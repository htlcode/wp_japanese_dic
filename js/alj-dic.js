!function(t){t("#responsive_tabs").responsiveTabs(),t(".button-draw").click(function(){var e=t(this).attr("data"),i=t("#cp"+e).val(),r={uri:t("#data_url").val(),loadCode:!0,stroke:{attr:{stroke:"#999999"},order:{visible:!0,attr:{"font-size":"9",fill:"#0000FF"}}}};t("#draw"+e).dmak(i,r),t(this).hide()}),t("#alj_form").submit(function(e){e.preventDefault(),e=t("#alj_hid_url").val();var i=t("#alj_txt_search").val();window.location.href=e+"/"+i})}(jQuery),function(t){function e(e,r,n){this.element=e,this.text=r,this.options=t.extend({},n,{element:t(e).attr("id")}),this._name=i,this.dmak=null,this.init()}var i="dmak";e.prototype={init:function(){this.dmak=new Dmak(this.text,this.options)},reset:function(){this.dmak.erase()},pause:function(){this.dmak.pause()},play:function(){this.dmak.render()},rewind:function(t){this.dmak.eraseLastStrokes(t)},forward:function(t){this.dmak.renderNextStrokes(t)},rewindTo:function(t){this.dmak.erase(t)},forwardTo:function(t){this.dmak.render(t)}},t.fn[i]=function(r,n){return this.each(function(){t.data(this,"plugin_"+i)?t.isFunction(e.prototype[r])&&t.data(this,"plugin_"+i)[r](n):t.data(this,"plugin_"+i,new e(this,r,n))})}}(jQuery,window,document),function(t,e,i){function r(e,i){this.element=e,this.$element=t(e),this.tabs=[],this.state="",this.rotateInterval=0,this.$queue=t({}),this.options=t.extend({},n,i),this.init()}var n={active:null,event:"click",disabled:[],collapsible:"accordion",startCollapsed:!1,rotate:!1,setHash:!1,animation:"default",animationQueue:!1,duration:500,scrollToAccordion:!1,accordionTabElement:"<div></div>",activate:function(){},deactivate:function(){},load:function(){},activateState:function(){},classes:{stateDefault:"r-tabs-state-default",stateActive:"r-tabs-state-active",stateDisabled:"r-tabs-state-disabled",stateExcluded:"r-tabs-state-excluded",container:"r-tabs",ul:"r-tabs-nav",tab:"r-tabs-tab",anchor:"r-tabs-anchor",panel:"r-tabs-panel",accordionTitle:"r-tabs-accordion-title"}};r.prototype.init=function(){var i=this;this.tabs=this._loadElements(),this._loadClasses(),this._loadEvents(),t(e).on("resize",function(t){i._setState(t)}),t(e).on("hashchange",function(t){var r=i._getTabRefBySelector(e.location.hash),n=i._getTab(r);r>=0&&!n._ignoreHashChange&&!n.disabled&&i._openTab(t,i._getTab(r),!0)}),this.options.rotate!==!1&&this.startRotation(),this.$element.bind("tabs-activate",function(t,e){i.options.activate.call(this,t,e)}),this.$element.bind("tabs-deactivate",function(t,e){i.options.deactivate.call(this,t,e)}),this.$element.bind("tabs-activate-state",function(t,e){i.options.activateState.call(this,t,e)}),this.$element.bind("tabs-load",function(t){var e;i._setState(t),i.options.startCollapsed===!0||"accordion"===i.options.startCollapsed&&"accordion"===i.state||(e=i._getStartTab(),i._openTab(t,e),i.options.load.call(this,t,e))}),this.$element.trigger("tabs-load")},r.prototype._loadElements=function(){var e=this,i=this.$element.children("ul"),r=[],n=0;return this.$element.addClass(e.options.classes.container),i.addClass(e.options.classes.ul),t("li",i).each(function(){var i,s,a,o,l=t(this);l.hasClass(e.options.classes.stateExcluded)||(i=t("a",l),o=i.attr("href"),s=t(o),a=t(e.options.accordionTabElement).insertBefore(s),i=t("<a></a>").attr("href",o).html(i.html()).appendTo(a),s={_ignoreHashChange:!1,id:n,disabled:-1!==t.inArray(n,e.options.disabled),tab:t(this),anchor:t("a",l),panel:s,selector:o,accordionTab:a,accordionAnchor:i,active:!1},n++,r.push(s))}),r},r.prototype._loadClasses=function(){for(var t=0;t<this.tabs.length;t++)this.tabs[t].tab.addClass(this.options.classes.stateDefault).addClass(this.options.classes.tab),this.tabs[t].anchor.addClass(this.options.classes.anchor),this.tabs[t].panel.addClass(this.options.classes.stateDefault).addClass(this.options.classes.panel),this.tabs[t].accordionTab.addClass(this.options.classes.accordionTitle),this.tabs[t].accordionAnchor.addClass(this.options.classes.anchor),this.tabs[t].disabled&&(this.tabs[t].tab.removeClass(this.options.classes.stateDefault).addClass(this.options.classes.stateDisabled),this.tabs[t].accordionTab.removeClass(this.options.classes.stateDefault).addClass(this.options.classes.stateDisabled))},r.prototype._loadEvents=function(){for(var t=this,i=function(i){var r=t._getCurrentTab(),n=i.data.tab;i.preventDefault(),n.disabled||(t.options.setHash&&(history.pushState?history.pushState(null,null,n.selector):e.location.hash=n.selector),i.data.tab._ignoreHashChange=!0,(r!==n||t._isCollapisble())&&(t._closeTab(i,r),r===n&&t._isCollapisble()||t._openTab(i,n,!1,!0)))},r=0;r<this.tabs.length;r++)this.tabs[r].anchor.on(t.options.event,{tab:t.tabs[r]},i),this.tabs[r].accordionAnchor.on(t.options.event,{tab:t.tabs[r]},i)},r.prototype._getStartTab=function(){var t=this._getTabRefBySelector(e.location.hash);return this._getTab(t>=0&&!this._getTab(t).disabled?t:this.options.active>0&&!this._getTab(this.options.active).disabled?this.options.active:0)},r.prototype._setState=function(e){var r,n=this.state,s="string"==typeof this.options.startCollapsed;this.state=t("ul",this.$element).is(":visible")?"tabs":"accordion",this.state!==n&&(this.$element.trigger("tabs-activate-state",{oldState:n,newState:this.state}),n&&s&&this.options.startCollapsed!==this.state&&this._getCurrentTab()===i&&(r=this._getStartTab(e),this._openTab(e,r)))},r.prototype._openTab=function(e,i,r,n){var s=this;r&&this._closeTab(e,this._getCurrentTab()),n&&this.rotateInterval>0&&this.stopRotation(),i.active=!0,i.tab.removeClass(s.options.classes.stateDefault).addClass(s.options.classes.stateActive),i.accordionTab.removeClass(s.options.classes.stateDefault).addClass(s.options.classes.stateActive),s._doTransition(i.panel,s.options.animation,"open",function(){i.panel.removeClass(s.options.classes.stateDefault).addClass(s.options.classes.stateActive),"accordion"!==s.getState()||!s.options.scrollToAccordion||s._isInView(i.accordionTab)&&"default"===s.options.animation||("default"!==s.options.animation&&s.options.duration>0?t("html, body").animate({scrollTop:i.accordionTab.offset().top},s.options.duration):t("html, body").scrollTop(i.accordionTab.offset().top))}),this.$element.trigger("tabs-activate",i)},r.prototype._closeTab=function(t,e){var r,n=this,s="string"==typeof n.options.animationQueue;e!==i&&(r=s&&n.getState()===n.options.animationQueue?!0:s?!1:n.options.animationQueue,e.active=!1,e.tab.removeClass(n.options.classes.stateActive).addClass(n.options.classes.stateDefault),n._doTransition(e.panel,n.options.animation,"close",function(){e.accordionTab.removeClass(n.options.classes.stateActive).addClass(n.options.classes.stateDefault),e.panel.removeClass(n.options.classes.stateActive).addClass(n.options.classes.stateDefault)},!r),this.$element.trigger("tabs-deactivate",e))},r.prototype._doTransition=function(t,e,i,r,n){var s,a=this;switch(e){case"slide":s="open"===i?"slideDown":"slideUp";break;case"fade":s="open"===i?"fadeIn":"fadeOut";break;default:s="open"===i?"show":"hide",a.options.duration=0}this.$queue.queue("responsive-tabs",function(n){t[s]({duration:a.options.duration,complete:function(){r.call(t,e,i),n()}})}),("open"===i||n)&&this.$queue.dequeue("responsive-tabs")},r.prototype._isCollapisble=function(){return"boolean"==typeof this.options.collapsible&&this.options.collapsible||"string"==typeof this.options.collapsible&&this.options.collapsible===this.getState()},r.prototype._getTab=function(t){return this.tabs[t]},r.prototype._getTabRefBySelector=function(t){for(var e=0;e<this.tabs.length;e++)if(this.tabs[e].selector===t)return e;return-1},r.prototype._getCurrentTab=function(){return this._getTab(this._getCurrentTabRef())},r.prototype._getNextTabRef=function(t){return t=t||this._getCurrentTabRef(),t=t===this.tabs.length-1?0:t+1,this._getTab(t).disabled?this._getNextTabRef(t):t},r.prototype._getPreviousTabRef=function(){return 0===this._getCurrentTabRef()?this.tabs.length-1:this._getCurrentTabRef()-1},r.prototype._getCurrentTabRef=function(){for(var t=0;t<this.tabs.length;t++)if(this.tabs[t].active)return t;return-1},r.prototype._isInView=function(i){var r=t(e).scrollTop(),n=r+t(e).height(),s=i.offset().top;return i=s+i.height(),n>=i&&s>=r},r.prototype.activate=function(t,e){var i=jQuery.Event("tabs-activate"),r=this._getTab(t);r.disabled||this._openTab(i,r,!0,e||!0)},r.prototype.deactivate=function(t){var e=jQuery.Event("tabs-dectivate");t=this._getTab(t),t.disabled||this._closeTab(e,t)},r.prototype.enable=function(t){(t=this._getTab(t))&&(t.disabled=!1,t.tab.addClass(this.options.classes.stateDefault).removeClass(this.options.classes.stateDisabled),t.accordionTab.addClass(this.options.classes.stateDefault).removeClass(this.options.classes.stateDisabled))},r.prototype.disable=function(t){(t=this._getTab(t))&&(t.disabled=!0,t.tab.removeClass(this.options.classes.stateDefault).addClass(this.options.classes.stateDisabled),t.accordionTab.removeClass(this.options.classes.stateDefault).addClass(this.options.classes.stateDisabled))},r.prototype.getState=function(){return this.state},r.prototype.startRotation=function(e){var i=this;if(!(this.tabs.length>this.options.disabled.length))throw Error("Rotation is not possible if all tabs are disabled");this.rotateInterval=setInterval(function(){var t=jQuery.Event("rotate");i._openTab(t,i._getTab(i._getNextTabRef()),!0)},e||(t.isNumeric(i.options.rotate)?i.options.rotate:4e3))},r.prototype.stopRotation=function(){e.clearInterval(this.rotateInterval),this.rotateInterval=0},r.prototype.option=function(t,e){return e&&(this.options[t]=e),this.options[t]},t.fn.responsiveTabs=function(e){var n=arguments;return e===i||"object"==typeof e?this.each(function(){t.data(this,"responsivetabs")||t.data(this,"responsivetabs",new r(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?this.each(function(){var i=t.data(this,"responsivetabs");i instanceof r&&"function"==typeof i[e]&&i[e].apply(i,Array.prototype.slice.call(n,1)),"destroy"===e&&t.data(this,"responsivetabs",null)}):void 0}}(jQuery,window),function(){function t(t,e){null!==t.object.text&&t.object.text.remove();var i=function(){t.object.path.remove(),t.object={path:null,text:null},e.shift()};s.options.stroke.animated.erasing?(t.object.path.node.style.stroke=s.options.stroke.attr.active,e.push(r(t,-1,i))):i()}function e(t,e,n){var a=function(){if(null!==e.object.path){var t=s.options.stroke.attr.stroke;"random"===s.options.stroke.attr.stroke&&(t=Raphael.getColor()),e.object.path.node.style.stroke=t,e.object.path.node.style.transition=e.object.path.node.style.WebkitTransition="stroke 400ms ease",n.shift()}};e.object.path=t.path(e.path),e.object.path.attr(s.options.stroke.attr),s.options.stroke.order.visible&&i(t,e),s.options.stroke.animated.drawing?r(e,1,a):a()}function i(t,e){e.object.text=t.text(e.text.x,e.text.y,e.text.value),e.object.text.attr(s.options.stroke.order.attr)}function r(t,e,i){return t.object.path.attr({stroke:s.options.stroke.attr.active}),t.object.path.node.style.transition=t.object.path.node.style.WebkitTransition="none",t.object.path.node.style.strokeDasharray=t.length+" "+t.length,t.object.path.node.style.strokeDashoffset=e>0?t.length:0,t.object.path.node.getBoundingClientRect(),t.object.path.node.style.transition=t.object.path.node.style.WebkitTransition="stroke-dashoffset "+t.duration+"ms ease",t.object.path.node.style.strokeDashoffset=e>0?"0":t.length,setTimeout(i,t.duration)}function n(t,e){var i;if(2!==arguments.length)throw Error("Missing arguments in extend function");for(i in e)"object"==typeof t[i]?t[i]=n(t[i],e[i]):t.hasOwnProperty(i)&&(t[i]=e[i]);return t}var s=function(t,e){if(this.text=t,this.options=n(s.options,e),this.strokes=[],this.papers=[],this.pointer=0,this.timeouts={play:[],erasing:[],drawing:[]},this.options.loadCode){if(!this.options.skipLoad){var i=new DmakLoader(this.options.uri),r=this;i.loadByCode(t,function(t){r.prepare(t),r.options.loaded(r.kanjis),r.options.autoplay&&r.render()})}}else this.options.skipLoad||(i=new DmakLoader(this.options.uri),r=this,i.load(t,function(t){r.prepare(t),r.options.loaded(r.kanjis),r.options.autoplay&&r.render()}))};s.VERSION="0.2.0",s.options={uri:"",loadCode:!1,skipLoad:!1,autoplay:!0,height:109,width:109,viewBox:{x:0,y:0,w:109,h:109},step:.03,element:"draw",stroke:{animated:{drawing:!0,erasing:!0},order:{visible:!1,attr:{"font-size":"8",fill:"#999999"}},attr:{active:"#BF0000",stroke:"#2C2C2C","stroke-width":4,"stroke-linecap":"round","stroke-linejoin":"round"}},grid:{show:!0,attr:{stroke:"#CCCCCC","stroke-width":.5,"stroke-dasharray":"--"}},loaded:function(){},erased:function(){},drew:function(){}},s.fn=s.prototype={prepare:function(t){var e,i,r,n=[];for(i=0;i<t.length;i++)for(r=0;r<t[i].length;r++)e=Raphael.getTotalLength(t[i][r].path),e={"char":i,length:e,duration:e*s.options.step*1e3,path:t[i][r].path,groups:t[i][r].groups,text:t[i][r].text,object:{path:null,text:null}},n.push(e);for(this.kanjis=n,t=t.length,n=[],r=0;t>r;r++)i=new Raphael(s.options.element,s.options.width+"px",s.options.height+"px"),i.setViewBox(s.options.viewBox.x,s.options.viewBox.y,s.options.viewBox.w,s.options.viewBox.h),i.canvas.setAttribute("class","dmak-svg"),n.push(i);if(this.papers=n.reverse(),this.options.grid.show)for(t=this.papers,i=0;i<t.length;i++)t[i].path("M"+s.options.viewBox.w/2+",0 L"+s.options.viewBox.w/2+","+s.options.viewBox.h).attr(s.options.grid.attr),t[i].path("M0,"+s.options.viewBox.h/2+" L"+s.options.viewBox.w+","+s.options.viewBox.h/2).attr(s.options.grid.attr)},erase:function(e){if(this.timeouts.play.length)return!1;if(this.pointer<=0)return!1;"undefined"==typeof e&&(e=0);do this.pointer--,t(this.kanjis[this.pointer],this.timeouts.erasing),this.options.erased(this.pointer);while(this.pointer>e)},render:function(t){if(this.timeouts.play.length)return!1;if("undefined"==typeof t)t=this.kanjis.length;else if(t>this.kanjis.length)return!1;var i,r=function(t){e(t.papers[t.kanjis[t.pointer]["char"]],t.kanjis[t.pointer],t.timeouts.drawing),t.options.drew(t.pointer),t.pointer++,t.timeouts.play.shift()},n=0;for(i=0;i<this.timeouts.erasing.length;i++)window.clearTimeout(this.timeouts.erasing[i]),this.timeouts.erasing=[];for(i=this.pointer;t>i;i++)!s.options.stroke.animated.drawing||0>=n?r(this):this.timeouts.play.push(setTimeout(r,n,this)),n+=this.kanjis[i].duration},pause:function(){for(var t=0;t<this.timeouts.play.length;t++)window.clearTimeout(this.timeouts.play[t]);this.timeouts.play=[]},eraseLastStrokes:function(t){this.erase(this.pointer-t)},renderNextStrokes:function(t){this.render(this.pointer+t)}},window.Dmak=s}(),function(){function t(t,i,r,n){var s=new XMLHttpRequest,a=("00000"+r).slice(-5);return"00020"===a||"03000"===a?void n.done(i,{paths:[],texts:[]}):(s.open("GET",t+a+".svg",!0),s.onreadystatechange=function(){4===s.readyState&&(200===s.status?n.done(i,e(s.response,a)):n.error(s.statusText))},void s.send())}function e(t,e){function i(t){var e=t.childNodes;for(t=0;t<e.length;t++)"g"===e[t].tagName?(a.push(e[t].getAttribute("id")),i(e[t]),a.splice(a.indexOf(e[t].getAttribute("id")),1)):"path"===e[t].tagName&&n.push({path:e[t].getAttribute("d"),groups:a.slice(0)})}var r,n=[];r=(new DOMParser).parseFromString(t,"application/xml");var s=r.querySelectorAll("text"),a=[];for(i(r.getElementById("kvg:"+e)),r=0;r<s.length;r++)n[r].text={value:s[r].textContent,x:s[r].getAttribute("transform").split(" ")[4],y:s[r].getAttribute("transform").split(" ")[5].replace(")","")};return n}var i=function(t){this.uri=t};i.prototype.load=function(e,i){var r,n=[],s=e.length,a=0,o={done:function(t,e){console.log(t),console.log(e),n[t]=e,a++,a===s&&i(n)},error:function(t){console.log("Error",t)}};for(r=0;s>r;r++)t(this.uri,r,e.charCodeAt(r).toString(16),o)},i.prototype.loadByCode=function(t,i){var r=[],n=new XMLHttpRequest,s={done:function(t){r[0]=t,i(r)},error:function(t){console.log("Error",t)}};n.open("GET",this.uri+t+".svg",!0),n.onreadystatechange=function(){4===n.readyState&&(200===n.status?s.done(e(n.response,t)):s.error(n.statusText))},n.send()},window.DmakLoader=i}(),function(t,e){"function"==typeof define&&define.amd?define("eve",function(){return e()}):"object"==typeof exports?module.exports=e():t.eve=e()}(this,function(){var t,e,i=/[\.\/]/,r=function(){},n=function(t,e){return t-e},s={n:{}},a=function(i,r){i=String(i);var s,o=e,l=Array.prototype.slice.call(arguments,2),h=a.listeners(i),u=0,c=[],p={},f=[],d=t;t=i;for(var g=e=0,y=h.length;y>g;g++)"zIndex"in h[g]&&(c.push(h[g].zIndex),h[g].zIndex<0&&(p[h[g].zIndex]=h[g]));for(c.sort(n);c[u]<0;)if(s=p[c[u++]],f.push(s.apply(r,l)),e)return e=o,f;for(g=0;y>g;g++)if(s=h[g],"zIndex"in s)if(s.zIndex==c[u]){if(f.push(s.apply(r,l)),e)break;do if(u++,s=p[c[u]],s&&f.push(s.apply(r,l)),e)break;while(s)}else p[s.zIndex]=s;else if(f.push(s.apply(r,l)),e)break;return e=o,t=d,f.length?f:null};return a._events=s,a.listeners=function(t){var e,r,n,a,o,l,h,u=t.split(i);e=s;var c=[e],p=[];for(t=0,a=u.length;a>t;t++){for(h=[],o=0,l=c.length;l>o;o++)for(e=c[o].n,r=[e[u[t]],e["*"]],n=2;n--;)(e=r[n])&&(h.push(e),p=p.concat(e.f||[]));c=h}return p},a.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var n=t.split(i),a=s,o=0,l=n.length;l>o;o++)a=a.n,a=a.hasOwnProperty(n[o])&&a[n[o]]||(a[n[o]]={n:{}});for(a.f=a.f||[],o=0,l=a.f.length;l>o;o++)if(a.f[o]==e)return r;return a.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},a.f=function(t){var e=[].slice.call(arguments,1);return function(){a.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},a.stop=function(){e=1},a.nt=function(e){return e?RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},a.nts=function(){return t.split(i)},a.off=a.unbind=function(t,e){if(!t)return void(a._events=s={n:{}});var r,n,o,l,h,u,c=t.split(i),p=[s];for(l=0,h=c.length;h>l;l++)for(u=0;u<p.length;u+=o.length-2){if(o=[u,1],r=p[u].n,"*"!=c[l])r[c[l]]&&o.push(r[c[l]]);else for(n in r)r.hasOwnProperty(n)&&o.push(r[n]);p.splice.apply(p,o)}for(l=0,h=p.length;h>l;l++)for(r=p[l];r.n;){if(e){if(r.f){for(u=0,o=r.f.length;o>u;u++)if(r.f[u]==e){r.f.splice(u,1);break}!r.f.length&&delete r.f}for(n in r.n)if(r.n.hasOwnProperty(n)&&r.n[n].f){for(c=r.n[n].f,u=0,o=c.length;o>u;u++)if(c[u]==e){c.splice(u,1);break}!c.length&&delete r.n[n].f}}else{delete r.f;for(n in r.n)r.n.hasOwnProperty(n)&&r.n[n].f&&delete r.n[n].f}r=r.n}},a.once=function(t,e){var i=function(){return a.unbind(t,i),e.apply(this,arguments)};return a.on(t,i)},a.version="0.4.2",a.toString=function(){return"You are running Eve 0.4.2"},a}),function(t,e){"function"==typeof define&&define.amd?define("raphael.core",["eve"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("eve")):t.Raphael=e(t.eve)}(this,function(t){function e(i){if(e.is(i,"function"))return g?i():t.on("raphael.DOMload",i);if(e.is(i,O))return e._engine.create[k](e,i.splice(0,3+e.is(i[0],F))).add(i);var r=Array.prototype.slice.call(arguments,0);if(e.is(r[r.length-1],"function")){var n=r.pop();return g?n.call(e._engine.create[k](e,r)):t.on("raphael.DOMload",function(){n.call(e._engine.create[k](e,r))})}return e._engine.create[k](e,arguments)}function i(t){if("function"==typeof t||Object(t)!==t)return t;var e,r=new t.constructor;for(e in t)t[b](e)&&(r[e]=i(t[e]));return r}function r(t,e,i){function r(){var n=Array.prototype.slice.call(arguments,0),s=n.join("???"),a=r.cache=r.cache||{},o=r.count=r.count||[];if(a[b](s)){t:{n=0;for(var l=o.length;l>n;n++)if(o[n]===s){o.push(o.splice(n,1)[0]);break t}}s=i?i(a[s]):a[s]}else o.length>=1e3&&delete a[o.shift()],o.push(s),a[s]=t[k](e,n),s=i?i(a[s]):a[s];return s}return r}function n(){return this.hex}function s(t,e){for(var i=[],r=0,n=t.length;n-2*!e>r;r+=2){var s=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?n-4==r?s[3]={x:+t[0],y:+t[1]}:n-2==r&&(s[2]={x:+t[0],y:+t[1]},s[3]={x:+t[2],y:+t[3]}):s[0]={x:+t[n-2],y:+t[n-1]}:n-4==r?s[3]=s[2]:r||(s[0]={x:+t[r],y:+t[r+1]}),i.push(["C",(-s[0].x+6*s[1].x+s[2].x)/6,(-s[0].y+6*s[1].y+s[2].y)/6,(s[1].x+6*s[2].x-s[3].x)/6,(s[1].y+6*s[2].y-s[3].y)/6,s[2].x,s[2].y])}return i}function a(t,e,i,r,n,s,a,o,l){null==l&&(l=1),l=(l>1?1:0>l?0:l)/2;for(var h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],u=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],c=0,p=0;12>p;p++){var f=l*h[p]+l,d=f*(f*(-3*t+9*i-9*n+3*a)+6*t-12*i+6*n)-3*t+3*i;f=f*(f*(-3*e+9*r-9*s+3*o)+6*e-12*r+6*s)-3*e+3*r,c+=u[p]*L.sqrt(d*d+f*f)}return l*c}function o(t,e,i,r,n,s,o,l,h){if(!(0>h||a(t,e,i,r,n,s,o,l)<h)){var u,c=.5,p=1-c;for(u=a(t,e,i,r,n,s,o,l,p);M(u-h)>.01;)c/=2,p+=(h>u?1:-1)*c,u=a(t,e,i,r,n,s,o,l,p);return p}}function l(t,i,r){t=e._path2curve(t),i=e._path2curve(i);for(var n,s,o,l,h,u,c,p,f,d,g=r?0:[],y=0,x=t.length;x>y;y++){var v=t[y];if("M"==v[0])n=h=v[1],s=u=v[2];else{"C"==v[0]?(f=[n,s].concat(v.slice(1)),n=f[6],s=f[7]):(f=[n,s,n,s,h,u,h,u],n=h,s=u),v=0;for(var m=i.length;m>v;v++){var b=i[v];if("M"==b[0])o=c=b[1],l=p=b[2];else{"C"==b[0]?(d=[o,l].concat(b.slice(1)),o=d[6],l=d[7]):(d=[o,l,o,l,c,p,c,p],o=c,l=p);var w=f,_=d;b=r;var k=e.bezierBBox(w),C=e.bezierBBox(_);if(e.isBBoxIntersect(k,C)){k=a.apply(0,w),C=a.apply(0,_),k=N(~~(k/5),1),C=N(~~(C/5),1);for(var B=[],T=[],S={},A=b?0:[],P=0;k+1>P;P++){var E=e.findDotsAtSegment.apply(e,w.concat(P/k));B.push({x:E.x,y:E.y,t:P/k})}for(P=0;C+1>P;P++)E=e.findDotsAtSegment.apply(e,_.concat(P/C)),T.push({x:E.x,y:E.y,t:P/C});for(P=0;k>P;P++)for(w=0;C>w;w++){var j=B[P],L=B[P+1];_=T[w],E=T[w+1];var D,z=M(L.x-j.x)<.001?"y":"x",F=M(E.x-_.x)<.001?"y":"x";t:{D=j.x;var O=j.y,I=L.x,q=L.y,V=_.x,H=_.y,W=E.x,Y=E.y;if(!(N(D,I)<R(V,W)||R(D,I)>N(V,W)||N(O,q)<R(H,Y)||R(O,q)>N(H,Y))){var G=(D*q-O*I)*(V-W)-(D-I)*(V*Y-H*W),X=(D*q-O*I)*(H-Y)-(O-q)*(V*Y-H*W),$=(D-I)*(H-Y)-(O-q)*(V-W);if($){G/=$,X/=$,$=+G.toFixed(2);var U=+X.toFixed(2);if(!($<+R(D,I).toFixed(2)||$>+N(D,I).toFixed(2)||$<+R(V,W).toFixed(2)||$>+N(V,W).toFixed(2)||U<+R(O,q).toFixed(2)||U>+N(O,q).toFixed(2)||U<+R(H,Y).toFixed(2)||U>+N(H,Y).toFixed(2))){D={x:G,y:X};break t}}}D=void 0}D&&S[D.x.toFixed(4)]!=D.y.toFixed(4)&&(S[D.x.toFixed(4)]=D.y.toFixed(4),j=j.t+M((D[z]-j[z])/(L[z]-j[z]))*(L.t-j.t),_=_.t+M((D[F]-_[F])/(E[F]-_[F]))*(E.t-_.t),j>=0&&1.001>=j&&_>=0&&1.001>=_&&(b?A++:A.push({x:D.x,y:D.y,t1:R(j,1),t2:R(_,1)})))}b=A}else b=b?0:[];if(r)g+=b;else{for(k=0,C=b.length;C>k;k++)b[k].segment1=y,b[k].segment2=v,b[k].bez1=f,b[k].bez2=d;g=g.concat(b)}}}}}return g}function h(t,e,i,r,n,s){null!=t?(this.a=+t,this.b=+e,this.c=+i,this.d=+r,this.e=+n,this.f=+s):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function u(){return this.x+T+this.y+T+this.width+" ?? "+this.height}function c(t,e,i,r,n,s){function a(t,e){var i,r,n,s,a;for(n=t,a=0;8>a;a++){if(s=((h*n+l)*n+o)*n-t,M(s)<e)return n;if(r=(3*h*n+2*l)*n+o,M(r)<1e-6)break;n-=s/r}if(i=0,r=1,n=t,i>n)return i;if(n>r)return r;for(;r>i&&(s=((h*n+l)*n+o)*n,!(M(s-t)<e));)t>s?i=n:r=n,n=(r-i)/2+i;return n}var o=3*e,l=3*(r-e)-o,h=1-o-l,u=3*i,c=3*(n-i)-u,p=1-u-c;return function(t,e){var i=a(t,e);return((p*i+c)*i+u)*i}(t,1/(200*s))}function p(t,e){var i=[],r={};if(this.ms=e,this.times=1,t){for(var n in t)t[b](n)&&(r[Y(n)]=t[n],i.push(Y(n)));i.sort(rt)}this.anim=r,this.top=i[i.length-1],this.percents=i}function f(i,r,n,s,a,o){n=Y(n);var l,u,p,f,d,g,y=i.ms,v={},m={},w={};if(s)for(k=0,B=Gt.length;B>k;k++){var _=Gt[k];if(_.el.id==r.id&&_.anim==i){_.percent!=n?(Gt.splice(k,1),p=1):u=_,r.attr(_.totalOrigin);break}}else s=+m;for(var k=0,B=i.percents.length;B>k;k++){if(i.percents[k]==n||i.percents[k]>s*i.top){n=i.percents[k],d=i.percents[k-1]||0,y=y/i.top*(n-d),f=i.percents[k+1],l=i.anim[n];break}s&&r.attr(i.anim[i.percents[k]])}if(l){if(u)u.initstatus=s,u.start=new Date-u.ms*s;else{for(var T in l)if(l[b](T)&&(U[b](T)||r.paper.customAttributes[b](T)))switch(v[T]=r.attr(T),null==v[T]&&(v[T]=$[T]),m[T]=l[T],U[T]){case F:w[T]=(m[T]-v[T])/y;break;case"colour":v[T]=e.getRGB(v[T]),k=e.getRGB(m[T]),w[T]={r:(k.r-v[T].r)/y,g:(k.g-v[T].g)/y,b:(k.b-v[T].b)/y};break;case"path":k=Bt(v[T],m[T]);var P=k[1];for(v[T]=k[0],w[T]=[],k=0,B=v[T].length;B>k;k++){w[T][k]=[0];for(var E=1,j=v[T][k].length;j>E;E++)w[T][k][E]=(P[k][E]-v[T][k][E])/y}break;case"transform":if(k=r._,P=Et(k[T],m[T]))for(v[T]=P.from,m[T]=P.to,w[T]=[],w[T].real=!0,k=0,B=v[T].length;B>k;k++)for(w[T][k]=[v[T][k][0]],E=1,j=v[T][k].length;j>E;E++)w[T][k][E]=(m[T][k][E]-v[T][k][E])/y;else P=r.matrix||new h,k={_:{transform:k.transform},getBBox:function(){return r.getBBox(1)}},v[T]=[P.a,P.b,P.c,P.d,P.e,P.f],At(k,m[T]),m[T]=k._.transform,w[T]=[(k.matrix.a-P.a)/y,(k.matrix.b-P.b)/y,(k.matrix.c-P.c)/y,(k.matrix.d-P.d)/y,(k.matrix.e-P.e)/y,(k.matrix.f-P.f)/y];break;case"csv":if(P=S(l[T])[A](x),B=S(v[T])[A](x),"clip-rect"==T)for(v[T]=B,w[T]=[],k=B.length;k--;)w[T][k]=(P[k]-v[T][k])/y;m[T]=P;break;default:for(P=[][C](l[T]),B=[][C](v[T]),w[T]=[],k=r.paper.customAttributes[T].length;k--;)w[T][k]=((P[k]||0)-(B[k]||0))/y}if(T=l.easing,k=e.easing_formulas[T],!k)if(k=S(T).match(H),k&&5==k.length){var L=k;k=function(t){return c(t,+L[1],+L[2],+L[3],+L[4],y)}}else k=nt;if(g=l.start||i.start||+new Date,_={anim:i,percent:n,timestamp:g,start:g+(i.del||0),status:0,initstatus:s||0,stop:!1,ms:y,easing:k,from:v,diff:w,to:m,el:r,callback:l.callback,prev:d,next:f,repeat:o||i.times,origin:r.attr(),totalOrigin:a},Gt.push(_),s&&!u&&!p&&(_.stop=!0,_.start=new Date-y*s,1==Gt.length))return $t();p&&(_.start=new Date-_.ms*s),1==Gt.length&&Xt($t)}t("raphael.anim.start."+r.id,r,i)}}function d(t){for(var e=0;e<Gt.length;e++)Gt[e].el.paper==t&&Gt.splice(e--,1)}e.version="2.1.4",e.eve=t;var g,y,x=/[, ]+/,v={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},m=/\{(\d+)\}/g,b="hasOwnProperty",w={doc:document,win:window},_={was:Object.prototype[b].call(w.win,"Raphael"),is:w.win.Raphael};y=function(){this.ca=this.customAttributes={}};var k="apply",C="concat",B="ontouchstart"in w.win||w.win.DocumentTouch&&w.doc instanceof DocumentTouch,T=" ",S=String,A="split",P="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[A](T),E={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},j=S.prototype.toLowerCase,L=Math,N=L.max,R=L.min,M=L.abs,D=L.pow,z=L.PI,F="number",O="array",I=Object.prototype.toString,q=(e._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),V={NaN:1,Infinity:1,"-Infinity":1},H=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,W=L.round,Y=parseFloat,G=parseInt,X=S.prototype.toUpperCase,$=e._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},U=e._availableAnimAttrs={blur:F,"clip-rect":"csv",cx:F,cy:F,fill:"colour","fill-opacity":F,"font-size":F,height:F,opacity:F,path:"path",r:F,rx:F,ry:F,stroke:"colour","stroke-opacity":F,"stroke-width":F,transform:"transform",width:F,x:F,y:F},Q=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,Z={hs:1,rg:1},J=/,?([achlmqrstvxz]),?/gi,K=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,tt=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,et=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,it=(e._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),rt=function(t,e){return Y(t)-Y(e)},nt=function(t){return t},st=e._rectPath=function(t,e,i,r,n){return n?[["M",t+n,e],["l",i-2*n,0],["a",n,n,0,0,1,n,n],["l",0,r-2*n],["a",n,n,0,0,1,-n,n],["l",2*n-i,0],["a",n,n,0,0,1,-n,-n],["l",0,2*n-r],["a",n,n,0,0,1,n,-n],["z"]]:[["M",t,e],["l",i,0],["l",0,r],["l",-i,0],["z"]]},at=function(t,e,i,r){return null==r&&(r=i),[["M",t,e],["m",0,-r],["a",i,r,0,1,1,0,2*r],["a",i,r,0,1,1,0,-2*r],["z"]]},ot=e._getPath={path:function(t){return t.attr("path")},circle:function(t){return t=t.attrs,at(t.cx,t.cy,t.r)},ellipse:function(t){return t=t.attrs,at(t.cx,t.cy,t.rx,t.ry)},rect:function(t){return t=t.attrs,st(t.x,t.y,t.width,t.height,t.r)},image:function(t){return t=t.attrs,st(t.x,t.y,t.width,t.height)},text:function(t){return t=t._getBBox(),st(t.x,t.y,t.width,t.height)},set:function(t){return t=t._getBBox(),st(t.x,t.y,t.width,t.height)}},lt=e.mapPath=function(t,e){if(!e)return t;var i,r,n,s,a,o,l;for(t=Bt(t),n=0,a=t.length;a>n;n++)for(l=t[n],s=1,o=l.length;o>s;s+=2)i=e.x(l[s],l[s+1]),r=e.y(l[s],l[s+1]),l[s]=i,l[s+1]=r;return t};if(e._g=w,e.type=w.win.SVGAngle||w.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==e.type){var ht,ut=w.doc.createElement("div");if(ut.innerHTML='<v:shape adj="1"></v:shape>',ht=ut.firstChild,ht.style.behavior="url(#default#VML)",!ht||"object"!=typeof ht.adj)return e.type="";ut=null}e.svg=!(e.vml="VML"==e.type),e._Paper=y,e.fn=y=y.prototype=e.prototype,e._id=0,e._oid=0,e.is=function(t,e){return e=j.call(e),"finite"==e?!V[b](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||I.call(t).slice(8,-1).toLowerCase()==e},e.angle=function(t,i,r,n,s,a){return null==s?(t-=r,i-=n,t||i?(180+180*L.atan2(-i,-t)/z+360)%360:0):e.angle(t,i,s,a)-e.angle(r,n,s,a)},e.rad=function(t){return t%360*z/180},e.deg=function(t){return Math.round(180*t/z%360*1e3)/1e3},e.snapTo=function(t,i,r){if(r=e.is(r,"finite")?r:10,e.is(t,O)){for(var n=t.length;n--;)if(M(t[n]-i)<=r)return t[n]}else{if(t=+t,n=i%t,r>n)return i-n;if(n>t-r)return i-n+t}return i},e.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=16*L.random()|0;return("x"==t?e:3&e|8).toString(16)}),e.setWindow=function(i){t("raphael.setWindow",e,w.win,i),w.win=i,w.doc=w.win.document,e._engine.initWin&&e._engine.initWin(w.win)};var ct=function(t){if(e.vml){var i,n=/^\s+|\s+$/g;try{var s=new ActiveXObject("htmlfile");s.write("<body>"),s.close(),i=s.body}catch(a){i=createPopup().document.body}var o=i.createTextRange();ct=r(function(t){try{i.style.color=S(t).replace(n,"");var e=o.queryCommandValue("ForeColor");return e=(255&e)<<16|65280&e|(16711680&e)>>>16,"#"+("000000"+e.toString(16)).slice(-6)}catch(r){return"none"}})}else{var l=w.doc.createElement("i");l.title="Rapha??l Colour Picker",l.style.display="none",w.doc.body.appendChild(l),ct=r(function(t){return l.style.color=t,w.doc.defaultView.getComputedStyle(l,"").getPropertyValue("color")})}return ct(t)},pt=function(){return"hsb("+[this.h,this.s,this.b]+")"},ft=function(){return"hsl("+[this.h,this.s,this.l]+")"},dt=function(){return this.hex},gt=function(t,i,r){return null==i&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,i=t.g,t=t.r),null==i&&e.is(t,"string")&&(r=e.getRGB(t),t=r.r,i=r.g,r=r.b),(t>1||i>1||r>1)&&(t/=255,i/=255,r/=255),[t,i,r]},yt=function(t,i,r,n){return t*=255,i*=255,r*=255,t={r:t,g:i,b:r,hex:e.rgb(t,i,r),toString:dt},e.is(n,"finite")&&(t.opacity=n),t};e.color=function(t){var i;return e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(i=e.hsb2rgb(t),t.r=i.r,t.g=i.g,t.b=i.b,t.hex=i.hex):e.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(i=e.hsl2rgb(t),t.r=i.r,t.g=i.g,t.b=i.b,t.hex=i.hex):(e.is(t,"string")&&(t=e.getRGB(t)),e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(i=e.rgb2hsl(t),t.h=i.h,t.s=i.s,t.l=i.l,i=e.rgb2hsb(t),t.v=i.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=dt,t},e.hsb2rgb=function(t,e,i,r){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(i=t.b,e=t.s,r=t.o,t=t.h),t*=360;var n,s,a,o,l;return t=t%360/60,l=i*e,o=l*(1-M(t%2-1)),n=s=a=i-l,t=~~t,n+=[l,o,0,0,o,l][t],s+=[o,l,l,o,0,0][t],a+=[0,0,o,l,l,o][t],yt(n,s,a,r)},e.hsl2rgb=function(t,e,i,r){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(i=t.l,e=t.s,t=t.h),(t>1||e>1||i>1)&&(t/=360,e/=100,i/=100),t*=360;var n,s,a,o,l;return t=t%360/60,l=2*e*(.5>i?i:1-i),o=l*(1-M(t%2-1)),n=s=a=i-l/2,t=~~t,n+=[l,o,0,0,o,l][t],s+=[o,l,l,o,0,0][t],a+=[0,0,o,l,l,o][t],yt(n,s,a,r)},e.rgb2hsb=function(t,e,i){i=gt(t,e,i),t=i[0],e=i[1],i=i[2];var r,n,s,a;return s=N(t,e,i),a=s-R(t,e,i),r=0==a?null:s==t?(e-i)/a:s==e?(i-t)/a+2:(t-e)/a+4,r=(r+360)%6*60/360,n=0==a?0:a/s,{h:r,s:n,b:s,toString:pt}},e.rgb2hsl=function(t,e,i){i=gt(t,e,i),t=i[0],e=i[1],i=i[2];var r,n,s,a,o,l;return a=N(t,e,i),o=R(t,e,i),l=a-o,r=0==l?null:a==t?(e-i)/l:a==e?(i-t)/l+2:(t-e)/l+4,r=(r+360)%6*60/360,s=(a+o)/2,n=0==l?0:.5>s?l/(2*s):l/(2-2*s),{h:r,s:n,l:s,toString:ft}},e._path2string=function(){return this.join(",").replace(J,"$1")},e._preload=function(t,e){var i=w.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){e.call(this),this.onload=null,w.doc.body.removeChild(this)},i.onerror=function(){w.doc.body.removeChild(this)},w.doc.body.appendChild(i),i.src=t},e.getRGB=r(function(t){if(!t||(t=S(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:n};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:n};!(Z[b](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=ct(t));var i,r,s,a,o,l;return(t=t.match(q))?(t[2]&&(G(t[2].substring(5),16),G(t[2].substring(3,5),16),G(t[2].substring(1,3),16)),t[3]&&(G((o=t[3].charAt(3))+o,16),G((o=t[3].charAt(2))+o,16),G((o=t[3].charAt(1))+o,16)),t[4]&&(l=t[4][A](Q),Y(l[0]),l[0].slice(-1),Y(l[1]),l[1].slice(-1),Y(l[2]),l[2].slice(-1),"rgba"==t[1].toLowerCase().slice(0,4)&&Y(l[3]),l[3]&&l[3].slice(-1)),t[5]?(l=t[5][A](Q),i=Y(l[0]),"%"==l[0].slice(-1)&&(i*=2.55),r=Y(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),s=Y(l[2]),"%"==l[2].slice(-1)&&(s*=2.55),("deg"==l[0].slice(-3)||"??"==l[0].slice(-1))&&(i/=360),"hsba"==t[1].toLowerCase().slice(0,4)&&(a=Y(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100),e.hsb2rgb(i,r,s,a)):t[6]?(l=t[6][A](Q),i=Y(l[0]),"%"==l[0].slice(-1)&&(i*=2.55),r=Y(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),s=Y(l[2]),"%"==l[2].slice(-1)&&(s*=2.55),("deg"==l[0].slice(-3)||"??"==l[0].slice(-1))&&(i/=360),"hsla"==t[1].toLowerCase().slice(0,4)&&(a=Y(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100),e.hsl2rgb(i,r,s,a)):(t={r:i,g:r,b:s,toString:n},t.hex="#"+(16777216|s|r<<8|i<<16).toString(16).slice(1),e.is(a,"finite")&&(t.opacity=a),t)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:n}},e),e.hsb=r(function(t,i,r){return e.hsb2rgb(t,i,r).hex}),e.hsl=r(function(t,i,r){return e.hsl2rgb(t,i,r).hex}),e.rgb=r(function(t,e,i){return"#"+(i+.5|16777216|(e+.5|0)<<8|(t+.5|0)<<16).toString(16).slice(1)}),e.getColor=function(t){t=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75};var e=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),e.hex},e.getColor.reset=function(){delete this.start},e.parsePathString=function(t){if(!t)return null;var i=xt(t);if(i.arr)return mt(i.arr);var r={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},n=[];return e.is(t,O)&&e.is(t[0],O)&&(n=mt(t)),n.length||S(t).replace(K,function(t,e,i){var s=[];if(t=e.toLowerCase(),i.replace(et,function(t,e){e&&s.push(+e)}),"m"==t&&s.length>2&&(n.push([e][C](s.splice(0,2))),t="l",e="m"==e?"l":"L"),"r"==t)n.push([e][C](s));else for(;s.length>=r[t]&&(n.push([e][C](s.splice(0,r[t]))),r[t]););}),n.toString=e._path2string,i.arr=mt(n),n},e.parseTransformString=r(function(t){if(!t)return null;var i=[];return e.is(t,O)&&e.is(t[0],O)&&(i=mt(t)),i.length||S(t).replace(tt,function(t,e,r){var n=[];j.call(e),r.replace(et,function(t,e){e&&n.push(+e)}),i.push([e][C](n))}),i.toString=e._path2string,i});var xt=function(t){var e=xt.ps=xt.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var i in e)e[b](i)&&i!=t&&(e[i].sleep--,!e[i].sleep&&delete e[i])}),e[t]};e.findDotsAtSegment=function(t,e,i,r,n,s,a,o,l){var h=1-l,u=D(h,3),c=D(h,2),p=l*l,f=p*l,d=u*t+3*c*l*i+3*h*l*l*n+f*a;u=u*e+3*c*l*r+3*h*l*l*s+f*o,c=t+2*l*(i-t)+p*(n-2*i+t),f=e+2*l*(r-e)+p*(s-2*r+e);var g=i+2*l*(n-i)+p*(a-2*n+i);return p=r+2*l*(s-r)+p*(o-2*s+r),t=h*t+l*i,e=h*e+l*r,n=h*n+l*a,s=h*s+l*o,o=90-180*L.atan2(c-g,f-p)/z,(c>g||p>f)&&(o+=180),{x:d,y:u,m:{x:c,y:f},n:{x:g,y:p},start:{x:t,y:e},end:{x:n,y:s},alpha:o}},e.bezierBBox=function(t,i,r,n,s,a,o,l){return e.is(t,"array")||(t=[t,i,r,n,s,a,o,l]),t=Ct.apply(null,t),{x:t.min.x,y:t.min.y,x2:t.max.x,y2:t.max.y,width:t.max.x-t.min.x,height:t.max.y-t.min.y}},e.isPointInsideBBox=function(t,e,i){return e>=t.x&&e<=t.x2&&i>=t.y&&i<=t.y2},e.isBBoxIntersect=function(t,i){var r=e.isPointInsideBBox;return r(i,t.x,t.y)||r(i,t.x2,t.y)||r(i,t.x,t.y2)||r(i,t.x2,t.y2)||r(t,i.x,i.y)||r(t,i.x2,i.y)||r(t,i.x,i.y2)||r(t,i.x2,i.y2)||(t.x<i.x2&&t.x>i.x||i.x<t.x2&&i.x>t.x)&&(t.y<i.y2&&t.y>i.y||i.y<t.y2&&i.y>t.y)},e.pathIntersection=function(t,e){return l(t,e)},e.pathIntersectionNumber=function(t,e){return l(t,e,1)},e.isPointInsidePath=function(t,i,r){var n=e.pathBBox(t);return e.isPointInsideBBox(n,i,r)&&l(t,[["M",i,r],["H",n.x2+10]],1)%2==1},e._removedFactory=function(e){return function(){t("raphael.log",null,"Rapha??l: you are calling to method ???"+e+"??? of removed object",e)}};var vt=e.pathBBox=function(t){var e=xt(t);if(e.bbox)return i(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=Bt(t);for(var r,n=0,s=0,a=[],o=[],l=0,h=t.length;h>l;l++)r=t[l],"M"==r[0]?(n=r[1],s=r[2],a.push(n),o.push(s)):(n=Ct(n,s,r[1],r[2],r[3],r[4],r[5],r[6]),a=a[C](n.min.x,n.max.x),o=o[C](n.min.y,n.max.y),n=r[5],s=r[6]);return t=R[k](0,a),r=R[k](0,o),a=N[k](0,a),o=N[k](0,o),l=a-t,h=o-r,o={x:t,y:r,x2:a,y2:o,width:l,height:h,cx:t+l/2,cy:r+h/2},e.bbox=i(o),o},mt=function(t){return t=i(t),t.toString=e._path2string,t};ht=e._pathToRelative=function(t){var i=xt(t);if(i.rel)return mt(i.rel);e.is(t,O)&&e.is(t&&t[0],O)||(t=e.parsePathString(t));var r=[],n=0,s=0,a=0,o=0,l=0;"M"==t[0][0]&&(n=t[0][1],s=t[0][2],a=n,o=s,l++,r.push(["M",n,s]));for(var h=t.length;h>l;l++){var u=r[l]=[],c=t[l];if(c[0]!=j.call(c[0]))switch(u[0]=j.call(c[0]),u[0]){case"a":u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=+(c[6]-n).toFixed(3),u[7]=+(c[7]-s).toFixed(3);break;case"v":u[1]=+(c[1]-s).toFixed(3);break;case"m":a=c[1],o=c[2];default:for(var p=1,f=c.length;f>p;p++)u[p]=+(c[p]-(p%2?n:s)).toFixed(3)}else for(r[l]=[],"m"==c[0]&&(a=c[1]+n,o=c[2]+s),u=0,p=c.length;p>u;u++)r[l][u]=c[u];switch(c=r[l].length,r[l][0]){case"z":n=a,s=o;break;case"h":n+=+r[l][c-1];break;case"v":s+=+r[l][c-1];break;default:n+=+r[l][c-2],s+=+r[l][c-1]}}return r.toString=e._path2string,i.rel=mt(r),r};var bt=e._pathToAbsolute=function(t){var i=xt(t);if(i.abs)return mt(i.abs);if(e.is(t,O)&&e.is(t&&t[0],O)||(t=e.parsePathString(t)),!t||!t.length)return[["M",0,0]];var r=[],n=0,a=0,o=0,l=0,h=0;"M"==t[0][0]&&(n=+t[0][1],a=+t[0][2],o=n,l=a,h++,r[0]=["M",n,a]);for(var u,c=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),p=h,f=t.length;f>p;p++){if(r.push(h=[]),u=t[p],u[0]!=X.call(u[0]))switch(h[0]=X.call(u[0]),h[0]){case"A":h[1]=u[1],h[2]=u[2],h[3]=u[3],h[4]=u[4],h[5]=u[5],h[6]=+(u[6]+n),h[7]=+(u[7]+a);break;case"V":h[1]=+u[1]+a;break;case"H":h[1]=+u[1]+n;break;case"R":for(var d=[n,a][C](u.slice(1)),g=2,y=d.length;y>g;g++)d[g]=+d[g]+n,d[++g]=+d[g]+a;r.pop(),r=r[C](s(d,c));break;case"M":o=+u[1]+n,l=+u[2]+a;default:for(g=1,y=u.length;y>g;g++)h[g]=+u[g]+(g%2?n:a)}else if("R"==u[0])d=[n,a][C](u.slice(1)),r.pop(),r=r[C](s(d,c)),h=["R"][C](u.slice(-2));else for(d=0,g=u.length;g>d;d++)h[d]=u[d];switch(h[0]){case"Z":n=o,a=l;break;case"H":n=h[1];break;case"V":a=h[1];break;case"M":o=h[h.length-2],l=h[h.length-1];default:n=h[h.length-2],a=h[h.length-1]}}return r.toString=e._path2string,i.abs=mt(r),r},wt=function(t,e,i,r,n,s){var a=1/3,o=2/3;return[a*t+o*i,a*e+o*r,a*n+o*i,a*s+o*r,n,s]},_t=function(t,e,i,n,s,a,o,l,h,u){var c,p=120*z/180,f=z/180*(+s||0),d=[],g=r(function(t,e,i){var r=t*L.cos(i)-e*L.sin(i);return t=t*L.sin(i)+e*L.cos(i),{x:r,y:t}});if(u)v=u[0],c=u[1],a=u[2],x=u[3];else{c=g(t,e,-f),t=c.x,e=c.y,c=g(l,h,-f),l=c.x,h=c.y,L.cos(z/180*s),L.sin(z/180*s),c=(t-l)/2,v=(e-h)/2,x=c*c/(i*i)+v*v/(n*n),x>1&&(x=L.sqrt(x),i*=x,n*=x),x=i*i;var y=n*n;x=(a==o?-1:1)*L.sqrt(M((x*y-x*v*v-y*c*c)/(x*v*v+y*c*c))),a=x*i*v/n+(t+l)/2;var x=x*-n*c/i+(e+h)/2,v=L.asin(((e-x)/n).toFixed(9));c=L.asin(((h-x)/n).toFixed(9)),v=a>t?z-v:v,c=a>l?z-c:c,0>v&&(v=2*z+v),0>c&&(c=2*z+c),o&&v>c&&(v-=2*z),!o&&c>v&&(c-=2*z)}if(M(c-v)>p){d=c,y=l;var m=h;c=v+p*(o&&c>v?1:-1),l=a+i*L.cos(c),h=x+n*L.sin(c),d=_t(l,h,i,n,s,0,o,y,m,[c,d,a,x])}if(a=c-v,s=L.cos(v),p=L.sin(v),o=L.cos(c),c=L.sin(c),a=L.tan(a/4),i=4/3*i*a,a*=4/3*n,n=[t,e],t=[t+i*p,e-a*s],e=[l+i*c,h-a*o],l=[l,h],t[0]=2*n[0]-t[0],t[1]=2*n[1]-t[1],u)return[t,e,l][C](d);for(d=[t,e,l][C](d).join()[A](","),u=[],l=0,h=d.length;h>l;l++)u[l]=l%2?g(d[l-1],d[l],f).y:g(d[l],d[l+1],f).x;return u},kt=function(t,e,i,r,n,s,a,o,l){var h=1-l;return{x:D(h,3)*t+3*D(h,2)*l*i+3*h*l*l*n+D(l,3)*a,y:D(h,3)*e+3*D(h,2)*l*r+3*h*l*l*s+D(l,3)*o}},Ct=r(function(t,e,i,r,n,s,a,o){var l,h=n-2*i+t-(a-2*n+i),u=2*(i-t)-2*(n-i),c=t-i,p=(-u+L.sqrt(u*u-4*h*c))/2/h,f=(-u-L.sqrt(u*u-4*h*c))/2/h,d=[e,o],g=[t,a];return M(p)>"1e12"&&(p=.5),M(f)>"1e12"&&(f=.5),p>0&&1>p&&(l=kt(t,e,i,r,n,s,a,o,p),g.push(l.x),d.push(l.y)),f>0&&1>f&&(l=kt(t,e,i,r,n,s,a,o,f),g.push(l.x),d.push(l.y)),h=s-2*r+e-(o-2*s+r),u=2*(r-e)-2*(s-r),c=e-r,p=(-u+L.sqrt(u*u-4*h*c))/2/h,f=(-u-L.sqrt(u*u-4*h*c))/2/h,M(p)>"1e12"&&(p=.5),M(f)>"1e12"&&(f=.5),p>0&&1>p&&(l=kt(t,e,i,r,n,s,a,o,p),g.push(l.x),d.push(l.y)),f>0&&1>f&&(l=kt(t,e,i,r,n,s,a,o,f),g.push(l.x),d.push(l.y)),{min:{x:R[k](0,g),y:R[k](0,d)},max:{x:N[k](0,g),y:N[k](0,d)}}}),Bt=e._path2curve=r(function(t,e){var i=!e&&xt(t);if(!e&&i.curve)return mt(i.curve);for(var r=bt(t),n=e&&bt(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=(function(t,e,i){var r,n;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][C](_t[k](0,[e.x,e.y][C](t.slice(1))));break;case"S":"C"==i||"S"==i?(r=2*e.x-e.bx,n=2*e.y-e.by):(r=e.x,n=e.y),t=["C",r,n][C](t.slice(1));break;case"T":"Q"==i||"T"==i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][C](wt(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][C](wt(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][C]([e.x,e.y,t[1],t[2],t[1],t[2]]);break;case"H":t=["C"][C]([e.x,e.y,t[1],e.y,t[1],e.y]);break;case"V":t=["C"][C]([e.x,e.y,e.x,t[1],e.x,t[1]]);break;case"Z":t=["C"][C]([e.x,e.y,e.X,e.Y,e.X,e.Y])}return t}),l=function(t,e){if(t[e].length>7){t[e].shift();for(var i=t[e];i.length;)u[e]="A",n&&(c[e]="A"),t.splice(e++,0,["C"][C](i.splice(0,6)));t.splice(e,1),g=N(r.length,n&&n.length||0)}},h=function(t,e,i,s,a){t&&e&&"M"==t[a][0]&&"M"!=e[a][0]&&(e.splice(a,0,["M",s.x,s.y]),i.bx=0,i.by=0,i.x=t[a][1],i.y=t[a][2],g=N(r.length,n&&n.length||0))},u=[],c=[],p="",f="",d=0,g=N(r.length,n&&n.length||0);g>d;d++){r[d]&&(p=r[d][0]),"C"!=p&&(u[d]=p,d&&(f=u[d-1])),r[d]=o(r[d],s,f),"A"!=u[d]&&"C"==p&&(u[d]="C"),l(r,d),n&&(n[d]&&(p=n[d][0]),"C"!=p&&(c[d]=p,d&&(f=c[d-1])),n[d]=o(n[d],a,f),"A"!=c[d]&&"C"==p&&(c[d]="C"),l(n,d)),h(r,n,s,a,d),h(n,r,a,s,d);var y=r[d],x=n&&n[d],v=y.length,m=n&&x.length;s.x=y[v-2],s.y=y[v-1],s.bx=Y(y[v-4])||s.x,s.by=Y(y[v-3])||s.y,a.bx=n&&(Y(x[m-4])||a.x),a.by=n&&(Y(x[m-3])||a.y),a.x=n&&x[m-2],a.y=n&&x[m-1]}return n||(i.curve=mt(r)),n?[r,n]:r},null,mt),Tt=(e._parseDots=r(function(t){for(var i=[],r=0,n=t.length;n>r;r++){var s={},a=t[r].match(/^([^:]*):?([\d\.]*)/);if(s.color=e.getRGB(a[1]),s.color.error)return null;s.opacity=s.color.opacity,s.color=s.color.hex,a[2]&&(s.offset=a[2]+"%"),i.push(s)}for(r=1,n=i.length-1;n>r;r++)if(!i[r].offset){for(t=Y(i[r-1].offset||0),a=0,s=r+1;n>s;s++)if(i[s].offset){a=i[s].offset;break}for(a||(a=100,s=n),a=Y(a),a=(a-t)/(s-r+1);s>r;r++)t+=a,i[r].offset=t+"%"}return i}),e._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),St=(e._tofront=function(t,e){e.top!==t&&(Tt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},e._toback=function(t,e){e.bottom!==t&&(Tt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},e._insertafter=function(t,e,i){Tt(t,i),e==i.top&&(i.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},e._insertbefore=function(t,e,i){Tt(t,i),e==i.bottom&&(i.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},e.toMatrix=function(t,e){var i=vt(t),r={_:{transform:""},getBBox:function(){return i}};return At(r,e),r.matrix}),At=(e.transformPath=function(t,e){return lt(t,St(t,e))},e._extractTransform=function(t,i){if(null==i)return t._.transform;i=S(i).replace(/\.{3}|\u2026/g,t._.transform||"");var r=e.parseTransformString(i),n=0,s=0,a=0,o=1,l=1,u=t._;if(a=new h,u.transform=r||[],r){s=0;for(var c=r.length;c>s;s++){var p,f,d,g,y,x=r[s],v=x.length,m=S(x[0]).toLowerCase(),b=x[0]!=m,w=b?a.invert():0;"t"==m&&3==v?b?(p=w.x(0,0),f=w.y(0,0),d=w.x(x[1],x[2]),g=w.y(x[1],x[2]),a.translate(d-p,g-f)):a.translate(x[1],x[2]):"r"==m?2==v?(y=y||t.getBBox(1),a.rotate(x[1],y.x+y.width/2,y.y+y.height/2),n+=x[1]):4==v&&(b?(d=w.x(x[2],x[3]),g=w.y(x[2],x[3]),a.rotate(x[1],d,g)):a.rotate(x[1],x[2],x[3]),n+=x[1]):"s"==m?2==v||3==v?(y=y||t.getBBox(1),a.scale(x[1],x[v-1],y.x+y.width/2,y.y+y.height/2),o*=x[1],l*=x[v-1]):5==v&&(b?(d=w.x(x[3],x[4]),g=w.y(x[3],x[4]),a.scale(x[1],x[2],d,g)):a.scale(x[1],x[2],x[3],x[4]),o*=x[1],l*=x[2]):"m"==m&&7==v&&a.add(x[1],x[2],x[3],x[4],x[5],x[6]),u.dirtyT=1,t.matrix=a}}t.matrix=a,u.sx=o,u.sy=l,u.deg=n,u.dx=s=a.e,u.dy=a=a.f,1==o&&1==l&&!n&&u.bbox?(u.bbox.x+=+s,u.bbox.y+=+a):u.dirtyT=1}),Pt=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},Et=e._equaliseTransform=function(t,i){i=S(i).replace(/\.{3}|\u2026/g,t),t=e.parseTransformString(t)||[],i=e.parseTransformString(i)||[];for(var r,n,s,a,o=N(t.length,i.length),l=[],h=[],u=0;o>u;u++){if(s=t[u]||Pt(i[u]),a=i[u]||Pt(s),s[0]!=a[0]||"r"==s[0].toLowerCase()&&(s[2]!=a[2]||s[3]!=a[3])||"s"==s[0].toLowerCase()&&(s[3]!=a[3]||s[4]!=a[4]))return;for(l[u]=[],h[u]=[],r=0,n=N(s.length,a.length);n>r;r++)r in s&&(l[u][r]=s[r]),r in a&&(h[u][r]=a[r])}return{from:l,to:h}};e._getContainer=function(t,i,r,n){var s;return s=null!=n||e.is(t,"object")?t:w.doc.getElementById(t),null!=s?s.tagName?null==i?{container:s,width:s.style.pixelWidth||s.offsetWidth,height:s.style.pixelHeight||s.offsetHeight}:{container:s,width:i,height:r}:{container:1,x:t,y:i,width:r,height:n}:void 0},e.pathToRelative=ht,e._engine={},e.path2curve=Bt,e.matrix=function(t,e,i,r,n,s){return new h(t,e,i,r,n,s)},function(t){function i(t){return t[0]*t[0]+t[1]*t[1]}function r(t){var e=L.sqrt(i(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}t.add=function(t,e,i,r,n,s){var a=[[],[],[]],o=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]];for(e=[[t,i,n],[e,r,s],[0,0,1]],t&&t instanceof h&&(e=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),t=0;3>t;t++)for(i=0;3>i;i++){for(r=n=0;3>r;r++)n+=o[t][r]*e[r][i];a[t][i]=n}this.a=a[0][0],this.b=a[1][0],this.c=a[0][1],this.d=a[1][1],this.e=a[0][2],this.f=a[1][2]},t.invert=function(){var t=this.a*this.d-this.b*this.c;return new h(this.d/t,-this.b/t,-this.c/t,this.a/t,(this.c*this.f-this.d*this.e)/t,(this.b*this.e-this.a*this.f)/t)},t.clone=function(){return new h(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,i,r){null==e&&(e=t),(i||r)&&this.add(1,0,0,1,i,r),this.add(t,0,0,e,0,0),(i||r)&&this.add(1,0,0,1,-i,-r)},t.rotate=function(t,i,r){t=e.rad(t),i=i||0,r=r||0;var n=+L.cos(t).toFixed(9);t=+L.sin(t).toFixed(9),this.add(n,t,-t,n,i,r),this.add(1,0,0,1,-i,-r)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[S.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return e.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var n=[[this.a,this.c],[this.b,this.d]];t.scalex=L.sqrt(i(n[0])),r(n[0]),t.shear=n[0][0]*n[1][0]+n[0][1]*n[1][1],n[1]=[n[1][0]-n[0][0]*t.shear,n[1][1]-n[0][1]*t.shear],t.scaley=L.sqrt(i(n[1])),r(n[1]),t.shear/=t.scaley;var s=-n[0][1];return n=n[1][1],0>n?(t.rotate=e.deg(L.acos(n)),0>s&&(t.rotate=360-t.rotate)):t.rotate=e.deg(L.asin(s)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){return t=t||this[A](),t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[t.dx,t.dy]:"")+(1!=t.scalex||1!=t.scaley?"s"+[t.scalex,t.scaley,0,0]:"")+(t.rotate?"r"+[t.rotate,0,0]:"")):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(h.prototype);var jt=function(){this.returnValue=!1},Lt=function(){return this.originalEvent.preventDefault()},Nt=function(){this.cancelBubble=!0},Rt=function(){return this.originalEvent.stopPropagation()},Mt=function(t){return{x:t.clientX+(w.doc.documentElement.scrollLeft||w.doc.body.scrollLeft),y:t.clientY+(w.doc.documentElement.scrollTop||w.doc.body.scrollTop)}},Dt=function(){return w.doc.addEventListener?function(t,e,i,r){var n=function(t){var e=Mt(t);return i.call(r,t,e.x,e.y)};if(t.addEventListener(e,n,!1),B&&E[e]){var s=function(e){for(var n=Mt(e),s=e,a=0,o=e.targetTouches&&e.targetTouches.length;o>a;a++)if(e.targetTouches[a].target==t){e=e.targetTouches[a],e.originalEvent=s,e.preventDefault=Lt,e.stopPropagation=Rt;break}return i.call(r,e,n.x,n.y)};t.addEventListener(E[e],s,!1)}return function(){return t.removeEventListener(e,n,!1),B&&E[e]&&t.removeEventListener(E[e],s,!1),!0}}:w.doc.attachEvent?function(t,e,i,r){var n=function(t){t=t||w.win.event;var e=t.clientX+(w.doc.documentElement.scrollLeft||w.doc.body.scrollLeft),n=t.clientY+(w.doc.documentElement.scrollTop||w.doc.body.scrollTop);return t.preventDefault=t.preventDefault||jt,t.stopPropagation=t.stopPropagation||Nt,i.call(r,t,e,n)};return t.attachEvent("on"+e,n),function(){return t.detachEvent("on"+e,n),!0}}:void 0}(),zt=[],Ft=function(e){for(var i,r=e.clientX,n=e.clientY,s=w.doc.documentElement.scrollTop||w.doc.body.scrollTop,a=w.doc.documentElement.scrollLeft||w.doc.body.scrollLeft,o=zt.length;o--;){if(i=zt[o],B&&e.touches){for(var l,h=e.touches.length;h--;)if(l=e.touches[h],l.identifier==i.el._drag.id){r=l.clientX,n=l.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var u=i.el.node,c=u.nextSibling,p=u.parentNode,f=u.style.display;w.win.opera&&p.removeChild(u),u.style.display="none",h=i.el.paper.getElementByPoint(r,n),u.style.display=f,w.win.opera&&(c?p.insertBefore(u,c):p.appendChild(u)),h&&t("raphael.drag.over."+i.el.id,i.el,h),r+=a,n+=s,t("raphael.drag.move."+i.el.id,i.move_scope||i.el,r-i.el._drag.x,n-i.el._drag.y,r,n,e)}},Ot=function(i){e.unmousemove(Ft).unmouseup(Ot);for(var r,n=zt.length;n--;)r=zt[n],r.el._drag={},t("raphael.drag.end."+r.el.id,r.end_scope||r.start_scope||r.move_scope||r.el,i);zt=[]},It=e.el={};for(ht=P.length;ht--;)(function(t){e[t]=It[t]=function(i,r){return e.is(i,"function")&&(this.events=this.events||[],this.events.push({name:t,f:i,unbind:Dt(this.shape||this.node||w.doc,t,i,r||this)})),this},e["un"+t]=It["un"+t]=function(i){for(var r=this.events||[],n=r.length;n--;)r[n].name!=t||!e.is(i,"undefined")&&r[n].f!=i||(r[n].unbind(),r.splice(n,1),!r.length&&delete this.events);return this}})(P[ht]);It.data=function(i,r){var n=it[this.id]=it[this.id]||{};if(0==arguments.length)return n;if(1==arguments.length){if(e.is(i,"object")){for(var s in i)i[b](s)&&this.data(s,i[s]);return this}return t("raphael.data.get."+this.id,this,n[i],i),n[i]}return n[i]=r,t("raphael.data.set."+this.id,this,r,i),this},It.removeData=function(t){return null==t?it[this.id]={}:it[this.id]&&delete it[this.id][t],this},It.getData=function(){return i(it[this.id]||{})},It.hover=function(t,e,i,r){return this.mouseover(t,i).mouseout(e,r||i)},It.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var qt=[];It.drag=function(i,r,n,s,a,o){function l(l){(l.originalEvent||l).preventDefault();var h=l.clientX,u=l.clientY,c=w.doc.documentElement.scrollTop||w.doc.body.scrollTop,p=w.doc.documentElement.scrollLeft||w.doc.body.scrollLeft;if(this._drag.id=l.identifier,B&&l.touches)for(var f,d=l.touches.length;d--;)if(f=l.touches[d],this._drag.id=f.identifier,f.identifier==this._drag.id){h=f.clientX,u=f.clientY;break}this._drag.x=h+p,this._drag.y=u+c,!zt.length&&e.mousemove(Ft).mouseup(Ot),zt.push({el:this,move_scope:s,start_scope:a,end_scope:o}),r&&t.on("raphael.drag.start."+this.id,r),i&&t.on("raphael.drag.move."+this.id,i),n&&t.on("raphael.drag.end."+this.id,n),t("raphael.drag.start."+this.id,a||s||this,l.clientX+p,l.clientY+c,l)}return this._drag={},qt.push({el:this,start:l}),this.mousedown(l),this},It.onDragOver=function(e){e?t.on("raphael.drag.over."+this.id,e):t.unbind("raphael.drag.over."+this.id)},It.undrag=function(){for(var i=qt.length;i--;)qt[i].el==this&&(this.unmousedown(qt[i].start),qt.splice(i,1),t.unbind("raphael.drag.*."+this.id));!qt.length&&e.unmousemove(Ft).unmouseup(Ot),zt=[]},y.circle=function(t,i,r){return t=e._engine.circle(this,t||0,i||0,r||0),this.__set__&&this.__set__.push(t),t},y.rect=function(t,i,r,n,s){return t=e._engine.rect(this,t||0,i||0,r||0,n||0,s||0),this.__set__&&this.__set__.push(t),t},y.ellipse=function(t,i,r,n){return t=e._engine.ellipse(this,t||0,i||0,r||0,n||0),this.__set__&&this.__set__.push(t),t},y.path=function(t){t&&!e.is(t,"string")&&!e.is(t[0],O)&&(t+="");var i=e._engine.path(e.format[k](e,arguments),this);return this.__set__&&this.__set__.push(i),i},y.image=function(t,i,r,n,s){return t=e._engine.image(this,t||"about:blank",i||0,r||0,n||0,s||0),this.__set__&&this.__set__.push(t),t},y.text=function(t,i,r){return t=e._engine.text(this,t||0,i||0,S(r)),this.__set__&&this.__set__.push(t),t},y.set=function(t){!e.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var i=new Qt(t);return this.__set__&&this.__set__.push(i),i.paper=this,i.type="set",i},y.setStart=function(t){this.__set__=t||this.set()},y.setFinish=function(){var t=this.__set__;return delete this.__set__,t},y.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},y.setSize=function(t,i){return e._engine.setSize.call(this,t,i)},y.setViewBox=function(t,i,r,n,s){return e._engine.setViewBox.call(this,t,i,r,n,s)},y.top=y.bottom=null,y.raphael=e,y.getElementByPoint=function(t,e){var i=this.canvas,r=w.doc.elementFromPoint(t,e);if(w.win.opera&&"svg"==r.tagName){var n;n=i.getBoundingClientRect();var s=i.ownerDocument,a=s.body;s=s.documentElement,n={y:n.top+(w.win.pageYOffset||s.scrollTop||a.scrollTop)-(s.clientTop||a.clientTop||0),x:n.left+(w.win.pageXOffset||s.scrollLeft||a.scrollLeft)-(s.clientLeft||a.clientLeft||0)},a=i.createSVGRect(),a.x=t-n.x,a.y=e-n.y,a.width=a.height=1,n=i.getIntersectionList(a,null),n.length&&(r=n[n.length-1])}if(!r)return null;for(;r.parentNode&&r!=i.parentNode&&!r.raphael;)r=r.parentNode;return r==this.canvas.parentNode&&(r=i),r&&r.raphael?this.getById(r.raphaelid):null},y.getElementsByBBox=function(t){var i=this.set();return this.forEach(function(r){e.isBBoxIntersect(r.getBBox(),t)&&i.push(r)}),i},y.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},y.forEach=function(t,e){for(var i=this.bottom;i&&t.call(e,i)!==!1;)i=i.next;return this},y.getElementsByPoint=function(t,e){var i=this.set();return this.forEach(function(r){r.isPointInside(t,e)&&i.push(r)}),i},It.isPointInside=function(t,i){var r=this.realPath=ot[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(r=e.transformPath(r,this.attr("transform"))),e.isPointInsidePath(r,t,i)},It.getBBox=function(t){if(this.removed)return{};var e=this._;return t?((e.dirty||!e.bboxwt)&&(this.realPath=ot[this.type](this),e.bboxwt=vt(this.realPath),e.bboxwt.toString=u,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&((e.dirty||!this.realPath)&&(e.bboxwt=0,this.realPath=ot[this.type](this)),e.bbox=vt(lt(this.realPath,this.matrix)),e.bbox.toString=u,e.dirty=e.dirtyT=0),e.bbox)},It.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},It.glow=function(t){if("text"==this.type)return null;t=t||{},t={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:null==t.opacity?.5:t.opacity,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"};var e=t.width/2,i=this.paper,r=i.set(),n=this.realPath||ot[this.type](this);n=this.matrix?lt(n,this.matrix):n;for(var s=1;e+1>s;s++)r.push(i.path(n).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/e*s).toFixed(3),opacity:+(t.opacity/e).toFixed(3)}));return r.insertBefore(this).translate(t.offsetx,t.offsety)};var Vt=function(t,i,r,n,s,l,h,u,c){return null==c?a(t,i,r,n,s,l,h,u):e.findDotsAtSegment(t,i,r,n,s,l,h,u,o(t,i,r,n,s,l,h,u,c))};P=function(t,i){return function(r,n,s){r=Bt(r);for(var a,o,l,h,u,c="",p={},f=0,d=0,g=r.length;g>d;d++){if(l=r[d],"M"==l[0])a=+l[1],o=+l[2];else{if(h=Vt(a,o,l[1],l[2],l[3],l[4],l[5],l[6]),f+h>n){if(i&&!p.start){if(u=Vt(a,o,l[1],l[2],l[3],l[4],l[5],l[6],n-f),c+=["C"+u.start.x,u.start.y,u.m.x,u.m.y,u.x,u.y],s)return c;p.start=c,c=["M"+u.x,u.y+"C"+u.n.x,u.n.y,u.end.x,u.end.y,l[5],l[6]].join(),f+=h,a=+l[5],o=+l[6];continue}if(!t&&!i)return u=Vt(a,o,l[1],l[2],l[3],l[4],l[5],l[6],n-f),{x:u.x,y:u.y,alpha:u.alpha}}f+=h,a=+l[5],o=+l[6]}c+=l.shift()+l}return p.end=c,u=t?f:i?p:e.findDotsAtSegment(a,o,l[0],l[1],l[2],l[3],l[4],l[5],1),u.alpha&&(u={x:u.x,y:u.y,alpha:u.alpha}),u}};var Ht=P(1),Wt=P(),Yt=P(0,1);e.getTotalLength=Ht,e.getPointAtLength=Wt,e.getSubpath=function(t,e,i){return this.getTotalLength(t)-i<1e-6?Yt(t,e).end:(t=Yt(t,i,1),e?Yt(t,e).end:t)},It.getTotalLength=function(){var t=this.getPath();return t?this.node.getTotalLength?this.node.getTotalLength():Ht(t):void 0},It.getPointAtLength=function(t){var e=this.getPath();return e?Wt(e,t):void 0},It.getPath=function(){var t,i=e._getPath[this.type];return"text"!=this.type&&"set"!=this.type?(i&&(t=i(this)),t):void 0},It.getSubpath=function(t,i){var r=this.getPath();return r?e.getSubpath(r,t,i):void 0},P=e.easing_formulas={linear:function(t){return t},"<":function(t){return D(t,1.7)},">":function(t){return D(t,.48)},"<>":function(t){var e=.48-t/1.04,i=L.sqrt(.1734+e*e);return t=i-e,t=D(M(t),1/3)*(0>t?-1:1),e=-i-e,e=D(M(e),1/3)*(0>e?-1:1),t=t+e+.5,3*(1-t)*t*t+t*t*t},backIn:function(t){return t*t*(2.70158*t-1.70158)},backOut:function(t){return t-=1,t*t*(2.70158*t+1.70158)+1},elastic:function(t){return t==!!t?t:D(2,-10*t)*L.sin(2*(t-.075)*z/.3)+1},bounce:function(t){var e;return 1/2.75>t||(2/2.75>t?t-=1.5/2.75:2.5/2.75>t?t-=2.25/2.75:(t-=2.625/2.75,e=7.5625*t*t+.984375)),e}},P.easeIn=P["ease-in"]=P["<"],P.easeOut=P["ease-out"]=P[">"],P.easeInOut=P["ease-in-out"]=P["<>"],P["back-in"]=P.backIn,P["back-out"]=P.backOut;var Gt=[],Xt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},$t=function(){for(var i=+new Date,r=0;r<Gt.length;r++){var n=Gt[r];if(!n.el.removed&&!n.paused){var s,a,o=i-n.start,l=n.ms,h=n.easing,u=n.from,c=n.diff,p=n.to,d=n.el,g={},y={};if(n.initstatus?(o=(n.initstatus*n.anim.top-n.prev)/(n.percent-n.prev)*l,n.status=n.initstatus,delete n.initstatus,n.stop&&Gt.splice(r--,1)):n.status=(n.prev+(n.percent-n.prev)*(o/l))/n.anim.top,!(0>o))if(l>o){var x,v=h(o/l);for(x in u)if(u[b](x)){switch(U[x]){case F:s=+u[x]+v*l*c[x];break;case"colour":s="rgb("+[Ut(W(u[x].r+v*l*c[x].r)),Ut(W(u[x].g+v*l*c[x].g)),Ut(W(u[x].b+v*l*c[x].b))].join(",")+")";break;case"path":for(s=[],o=0,h=u[x].length;h>o;o++){for(s[o]=[u[x][o][0]],p=1,y=u[x][o].length;y>p;p++)s[o][p]=+u[x][o][p]+v*l*c[x][o][p];s[o]=s[o].join(T)}s=s.join(T);break;case"transform":if(c[x].real)for(s=[],o=0,h=u[x].length;h>o;o++)for(s[o]=[u[x][o][0]],p=1,y=u[x][o].length;y>p;p++)s[o][p]=u[x][o][p]+v*l*c[x][o][p];else s=function(t){return+u[x][t]+v*l*c[x][t]},s=[["m",s(0),s(1),s(2),s(3),s(4),s(5)]];break;case"csv":if("clip-rect"==x)for(s=[],o=4;o--;)s[o]=+u[x][o]+v*l*c[x][o];break;default:for(h=[][C](u[x]),s=[],o=d.paper.customAttributes[x].length;o--;)s[o]=+h[o]+v*l*c[x][o]}g[x]=s}d.attr(g),function(e,i,r){setTimeout(function(){t("raphael.anim.frame."+e,i,r)})}(d.id,d,n.anim)}else{if(function(i,r,n){setTimeout(function(){t("raphael.anim.frame."+r.id,r,n),t("raphael.anim.finish."+r.id,r,n),e.is(i,"function")&&i.call(r)})}(n.callback,d,n.anim),d.attr(p),Gt.splice(r--,1),n.repeat>1&&!n.next){for(a in p)p[b](a)&&(y[a]=n.totalOrigin[a]);n.el.attr(y),f(n.anim,n.el,n.anim.percents[0],null,n.totalOrigin,n.repeat-1)}n.next&&!n.stop&&f(n.anim,n.el,n.next,null,n.totalOrigin,n.repeat)}}}Gt.length&&Xt($t)},Ut=function(t){return t>255?255:0>t?0:t};It.animateWith=function(t,i,r,n,s,a){if(this.removed)return a&&a.call(this),this;for(r=r instanceof p?r:e.animation(r,n,s,a),f(r,this,r.percents[0],null,this.attr()),r=0,n=Gt.length;n>r;r++)if(Gt[r].anim==i&&Gt[r].el==t){Gt[n-1].start=Gt[r].start;break}return this},It.onAnimation=function(e){return e?t.on("raphael.anim.frame."+this.id,e):t.unbind("raphael.anim.frame."+this.id),this},p.prototype.delay=function(t){var e=new p(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},p.prototype.repeat=function(t){var e=new p(this.anim,this.ms);return e.del=this.del,e.times=L.floor(N(t,0))||1,e},e.animation=function(t,i,r,n){if(t instanceof p)return t;(e.is(r,"function")||!r)&&(n=n||r||null,r=null),t=Object(t),i=+i||0;var s,a,o={};for(a in t)t[b](a)&&Y(a)!=a&&Y(a)+"%"!=a&&(s=!0,o[a]=t[a]);if(s)return r&&(o.easing=r),n&&(o.callback=n),new p({100:o},i);if(n){r=0;for(var l in t)s=G(l),t[b](l)&&s>r&&(r=s);r+="%",!t[r].callback&&(t[r].callback=n)}return new p(t,i)},It.animate=function(t,i,r,n){return this.removed?(n&&n.call(this),this):(t=t instanceof p?t:e.animation(t,i,r,n),f(t,this,t.percents[0],null,this.attr()),this)},It.setTime=function(t,e){return t&&null!=e&&this.status(t,R(e,t.ms)/t.ms),this},It.status=function(t,e){var i,r,n=[],s=0;if(null!=e)return f(t,this,-1,R(e,1)),this;for(i=Gt.length;i>s;s++)if(r=Gt[s],r.el.id==this.id&&(!t||r.anim==t)){if(t)return r.status;n.push({anim:r.anim,status:r.status})}return t?0:n},It.pause=function(e){for(var i=0;i<Gt.length;i++)Gt[i].el.id!=this.id||e&&Gt[i].anim!=e||t("raphael.anim.pause."+this.id,this,Gt[i].anim)!==!1&&(Gt[i].paused=!0);return this},It.resume=function(e){for(var i=0;i<Gt.length;i++)if(Gt[i].el.id==this.id&&(!e||Gt[i].anim==e)){var r=Gt[i];t("raphael.anim.resume."+this.id,this,r.anim)!==!1&&(delete r.paused,this.status(r.anim,r.status))}return this},It.stop=function(e){for(var i=0;i<Gt.length;i++)Gt[i].el.id!=this.id||e&&Gt[i].anim!=e||t("raphael.anim.stop."+this.id,this,Gt[i].anim)!==!1&&Gt.splice(i--,1);return this},t.on("raphael.remove",d),t.on("raphael.clear",d),It.toString=function(){return"Rapha??l???s object"};var Qt=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,i=t.length;i>e;e++)!t[e]||t[e].constructor!=It.constructor&&t[e].constructor!=Qt||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)};P=Qt.prototype,P.push=function(){for(var t,e,i=0,r=arguments.length;r>i;i++)t=arguments[i],!t||t.constructor!=It.constructor&&t.constructor!=Qt||(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},P.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},P.forEach=function(t,e){for(var i=0,r=this.items.length;r>i&&t.call(e,this.items[i],i)!==!1;i++);return this};for(var Zt in It)It[b](Zt)&&(P[Zt]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t][k](i,e)})}}(Zt));return P.attr=function(t,i){if(t&&e.is(t,O)&&e.is(t[0],"object"))for(var r=0,n=t.length;n>r;r++)this.items[r].attr(t[r]);else for(r=0,n=this.items.length;n>r;r++)this.items[r].attr(t,i);return this},P.clear=function(){for(;this.length;)this.pop()},P.splice=function(t,e){t=0>t?N(this.length+t,0):t,e=N(0,R(this.length-t,e));var i,r=[],n=[],s=[];for(i=2;i<arguments.length;i++)s.push(arguments[i]);for(i=0;e>i;i++)n.push(this[t+i]);for(;i<this.length-t;i++)r.push(this[t+i]);var a=s.length;for(i=0;i<a+r.length;i++)this.items[t+i]=this[t+i]=a>i?s[i]:r[i-a];for(i=this.items.length=this.length-=e-a;this[i];)delete this[i++];return new Qt(n)},P.exclude=function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]==t)return this.splice(e,1),!0},P.animate=function(t,i,r,n){(e.is(r,"function")||!r)&&(n=r||null);var s,a=this.items.length,o=a,l=this;if(!a)return this;for(n&&(s=function(){!--a&&n.call(l)}),r=e.is(r,"string")?r:s,i=e.animation(t,i,r,s),t=this.items[--o].animate(i);o--;)this.items[o]&&!this.items[o].removed&&this.items[o].animateWith(t,i,i),this.items[o]&&!this.items[o].removed||a--;return this},P.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},P.getBBox=function(){for(var t=[],e=[],i=[],r=[],n=this.items.length;n--;)if(!this.items[n].removed){var s=this.items[n].getBBox();t.push(s.x),e.push(s.y),i.push(s.x+s.width),r.push(s.y+s.height)}return t=R[k](0,t),e=R[k](0,e),i=N[k](0,i),r=N[k](0,r),{x:t,y:e,x2:i,y2:r,width:i-t,height:r-e}},P.clone=function(t){t=this.paper.set();for(var e=0,i=this.items.length;i>e;e++)t.push(this.items[e].clone());return t},P.toString=function(){return"Rapha??l???s set"},P.glow=function(t){var e=this.paper.set();return this.forEach(function(i){i=i.glow(t),null!=i&&i.forEach(function(t){e.push(t)})}),e},P.isPointInside=function(t,e){var i=!1;return this.forEach(function(r){return r.isPointInside(t,e)?(i=!0,!1):void 0}),i},e.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e,i={w:t.w,face:{},glyphs:{}},r=t.face["font-family"];for(e in t.face)t.face[b](e)&&(i.face[e]=t.face[e]);if(this.fonts[r]?this.fonts[r].push(i):this.fonts[r]=[i],!t.svg){i.face["units-per-em"]=G(t.face["units-per-em"],10);for(var n in t.glyphs)if(t.glyphs[b](n)&&(r=t.glyphs[n],i.glyphs[n]={w:r.w,k:{},d:r.d&&"M"+r.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},r.k))for(var s in r.k)r[b](s)&&(i.glyphs[n].k[s]=r.k[s])}return t},y.getFont=function(t,i,r,n){if(n=n||"normal",r=r||"normal",i=+i||{normal:400,bold:700,lighter:300,bolder:800}[i]||400,e.fonts){var s=e.fonts[t];if(!s){t=RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(var a in e.fonts)if(e.fonts[b](a)&&t.test(a)){s=e.fonts[a];break}}var o;if(s)for(a=0,t=s.length;t>a&&(o=s[a],o.face["font-weight"]!=i||o.face["font-style"]!=r&&o.face["font-style"]||o.face["font-stretch"]!=n);a++);return o}},y.print=function(t,i,r,n,s,a,o,l){a=a||"middle",o=N(R(o||0,1),-1),l=N(R(l||1,3),1),r=S(r)[A]("");var h=0,u=0,c="";if(e.is(n,"string")&&(n=this.getFont(n)),n){s=(s||16)/n.face["units-per-em"];var p=n.face.bbox[A](x),f=+p[0],d=p[3]-p[1],g=0;a=+p[1]+("baseline"==a?d+ +n.face.descent:d/2),p=0;for(var y=r.length;y>p;p++){if("\n"==r[p])u=m=h=0,g+=d*l;else{var v=u&&n.glyphs[r[p-1]]||{},m=n.glyphs[r[p]];h+=u?(v.w||n.w)+(v.k&&v.k[r[p]]||0)+n.w*o:0,u=1}m&&m.d&&(c+=e.transformPath(m.d,["t",h*s,g*s,"s",s,s,f,a,"t",(t-f)/s,(i-a)/s]))}}return this.path(c).attr({fill:"#000",stroke:"none"})},y.add=function(t){if(e.is(t,"array"))for(var i,r=this.set(),n=0,s=t.length;s>n;n++)i=t[n]||{},v[b](i.type)&&r.push(this[i.type]().attr(i));return r},e.format=function(t,i){var r=e.is(i,O)?[0][C](i):arguments;return t&&e.is(t,"string")&&r.length-1&&(t=t.replace(m,function(t,e){return null==r[++e]?"":r[e]})),t||""},e.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(t,i,r){var n=r;return i.replace(e,function(t,e,i,r,s){e=e||r,n&&(e in n&&(n=n[e]),"function"==typeof n&&s&&(n=n()))}),n=(null==n||n==r?t:n)+""};return function(e,r){return String(e).replace(t,function(t,e){return i(t,e,r)})}}(),e.ninja=function(){return _.was?w.win.Raphael=_.is:delete Raphael,e},e.st=P,t.on("raphael.DOMload",function(){g=!0}),function(t,i,r){function n(){/in/.test(t.readyState)?setTimeout(n,9):e.eve("raphael.DOMload")}null==t.readyState&&t.addEventListener&&(t.addEventListener(i,r=function(){t.removeEventListener(i,r,!1),t.readyState="complete"},!1),t.readyState="loading"),n()}(document,"DOMContentLoaded"),e}),function(t,e){"function"==typeof define&&define.amd?define("raphael.svg",["raphael.core"],function(t){return e(t)}):e("object"==typeof exports?require("./raphael.core"):t.Raphael)}(this,function(t){if(!t||t.svg){var e=String,i=parseFloat,r=parseInt,n=Math,s=n.max,a=n.abs,o=n.pow,l=/[, ]+/,h=t.eve,u={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},c={};t.toString=function(){return"Your browser supports SVG.\nYou are running Rapha??l "+this.version};var p=function(i,r){if(r){"string"==typeof i&&(i=p(i));for(var n in r)r.hasOwnProperty(n)&&("xlink:"==n.substring(0,6)?i.setAttributeNS("http://www.w3.org/1999/xlink",n.substring(6),e(r[n])):i.setAttribute(n,e(r[n])))}else i=t._g.doc.createElementNS("http://www.w3.org/2000/svg",i),i.style&&(i.style.webkitTapHighlightColor="rgba(0,0,0,0)");return i},f=function(r,l){var h="linear",u=r.id+l,c=.5,f=.5,d=r.node,g=r.paper,y=d.style,x=t._g.doc.getElementById(u);if(!x){if(l=e(l).replace(t._radial_gradient,function(t,e,r){return h="radial",e&&r&&(c=i(e),f=i(r),t=2*(f>.5)-1,o(c-.5,2)+o(f-.5,2)>.25&&(f=n.sqrt(.25-o(c-.5,2))*t+.5)&&.5!=f&&(f=f.toFixed(5)-1e-5*t)),""}),l=l.split(/\s*\-\s*/),"linear"==h){if(x=l.shift(),x=-i(x),isNaN(x))return null;var v=[0,0,n.cos(t.rad(x)),n.sin(t.rad(x))];x=1/(s(a(v[2]),a(v[3]))||1),v[2]*=x,v[3]*=x,v[2]<0&&(v[0]=-v[2],v[2]=0),v[3]<0&&(v[1]=-v[3],v[3]=0)}var m=t._parseDots(l);if(!m)return null;if(u=u.replace(/[\(\)\s,\xb0#]/g,"_"),r.gradient&&u!=r.gradient.id&&(g.defs.removeChild(r.gradient),delete r.gradient),!r.gradient)for(x=p(h+"Gradient",{id:u}),r.gradient=x,p(x,"radial"==h?{fx:c,fy:f}:{x1:v[0],y1:v[1],x2:v[2],y2:v[3],gradientTransform:r.matrix.invert()}),g.defs.appendChild(x),g=0,v=m.length;v>g;g++)x.appendChild(p("stop",{offset:m[g].offset?m[g].offset:g?"100%":"0%","stop-color":m[g].color||"#fff","stop-opacity":isFinite(m[g].opacity)?m[g].opacity:1}))}return p(d,{fill:"url('"+document.location.origin+document.location.pathname+"#"+u+"')",opacity:1,"fill-opacity":1}),y.fill="",y.opacity=1,y.fillOpacity=1,1},d=function(t){var e=t.getBBox(1);p(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},g=function(i,r,n){if("path"==i.type){for(var s,a,o,l,h,f=e(r).toLowerCase().split("-"),d=i.paper,g=n?"end":"start",y=i.node,x=i.attrs,v=x["stroke-width"],m=f.length,b="classic",w=3,_=3,k=5;m--;)switch(f[m]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":b=f[m];break;case"wide":_=5;break;case"narrow":_=2;break;case"long":w=5;break;case"short":w=2}if("open"==b?(w+=2,_+=2,k+=2,o=1,l=n?4:1,h={fill:"none",stroke:x.stroke}):(l=o=w/2,h={fill:x.stroke,stroke:"none"}),i._.arrows?n?(i._.arrows.endPath&&c[i._.arrows.endPath]--,i._.arrows.endMarker&&c[i._.arrows.endMarker]--):(i._.arrows.startPath&&c[i._.arrows.startPath]--,i._.arrows.startMarker&&c[i._.arrows.startMarker]--):i._.arrows={},"none"!=b){f="raphael-marker-"+b,m="raphael-marker-"+g+b+w+_+"-obj"+i.id,t._g.doc.getElementById(f)?c[f]++:(d.defs.appendChild(p(p("path"),{"stroke-linecap":"round",d:u[b],id:f})),c[f]=1);var C,B=t._g.doc.getElementById(m);B?(c[m]++,C=B.getElementsByTagName("use")[0]):(B=p(p("marker"),{id:m,markerHeight:_,markerWidth:w,orient:"auto",refX:l,refY:_/2}),C=p(p("use"),{"xlink:href":"#"+f,transform:(n?"rotate(180 "+w/2+" "+_/2+") ":"")+"scale("+w/k+","+_/k+")","stroke-width":(1/((w/k+_/k)/2)).toFixed(4)}),B.appendChild(C),d.defs.appendChild(B),c[m]=1),p(C,h),o*="diamond"!=b&&"oval"!=b,n?(s=i._.arrows.startdx*v||0,a=t.getTotalLength(x.path)-o*v):(s=o*v,a=t.getTotalLength(x.path)-(i._.arrows.enddx*v||0)),h={},h["marker-"+g]="url(#"+m+")",(a||s)&&(h.d=t.getSubpath(x.path,s,a)),p(y,h),i._.arrows[g+"Path"]=f,i._.arrows[g+"Marker"]=m,i._.arrows[g+"dx"]=o,i._.arrows[g+"Type"]=b,i._.arrows[g+"String"]=r}else n?(s=i._.arrows.startdx*v||0,a=t.getTotalLength(x.path)-s):(s=0,a=t.getTotalLength(x.path)-(i._.arrows.enddx*v||0)),i._.arrows[g+"Path"]&&p(y,{d:t.getSubpath(x.path,s,a)}),delete i._.arrows[g+"Path"],delete i._.arrows[g+"Marker"],delete i._.arrows[g+"dx"],delete i._.arrows[g+"Type"],delete i._.arrows[g+"String"];for(h in c)c.hasOwnProperty(h)&&!c[h]&&(i=t._g.doc.getElementById(h))&&i.parentNode.removeChild(i)}},y={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},x=function(t,i,r){if(i=y[e(i).toLowerCase()]){var n=t.attrs["stroke-width"]||"1";r={round:n,square:n,butt:0}[t.attrs["stroke-linecap"]||r["stroke-linecap"]]||0;for(var s=[],a=i.length;a--;)s[a]=i[a]*n+(a%2?1:-1)*r;p(t.node,{"stroke-dasharray":s.join(",")})}else p(t.node,{"stroke-dasharray":"none"})},v=function(i,n){var o=i.node,h=i.attrs,u=o.style.visibility;o.style.visibility="hidden";for(var c in n)if(n.hasOwnProperty(c)&&t._availableAttrs.hasOwnProperty(c)){var y=n[c];switch(h[c]=y,c){case"blur":i.blur(y);break;case"title":var v=o.getElementsByTagName("title");v.length&&(v=v[0])?v.firstChild.nodeValue=y:(v=p("title"),y=t._g.doc.createTextNode(y),v.appendChild(y),o.appendChild(v));break;case"href":case"target":if(v=o.parentNode,"a"!=v.tagName.toLowerCase()){var b=p("a");v.insertBefore(b,o),b.appendChild(o),v=b}"target"==c?v.setAttributeNS("http://www.w3.org/1999/xlink","show","blank"==y?"new":y):v.setAttributeNS("http://www.w3.org/1999/xlink",c,y);break;case"cursor":o.style.cursor=y;break;case"transform":i.transform(y);break;case"arrow-start":g(i,y);break;case"arrow-end":g(i,y,1);break;case"clip-rect":if(v=e(y).split(l),4==v.length){i.clip&&i.clip.parentNode.parentNode.removeChild(i.clip.parentNode),b=p("clipPath");var w=p("rect");b.id=t.createUUID(),p(w,{x:v[0],y:v[1],width:v[2],height:v[3]}),b.appendChild(w),i.paper.defs.appendChild(b),p(o,{"clip-path":"url(#"+b.id+")"}),i.clip=w}y||(y=o.getAttribute("clip-path"))&&((y=t._g.doc.getElementById(y.replace(/(^url\(#|\)$)/g,"")))&&y.parentNode.removeChild(y),p(o,{"clip-path":""}),delete i.clip);break;case"path":"path"==i.type&&(p(o,{d:y?h.path=t._pathToAbsolute(y):"M0,0"}),i._.dirty=1,i._.arrows&&("startString"in i._.arrows&&g(i,i._.arrows.startString),"endString"in i._.arrows&&g(i,i._.arrows.endString,1)));break;case"width":if(o.setAttribute(c,y),i._.dirty=1,!h.fx)break;c="x",y=h.x;case"x":h.fx&&(y=-h.x-(h.width||0));case"rx":if("rx"==c&&"rect"==i.type)break;case"cx":o.setAttribute(c,y),i.pattern&&d(i),i._.dirty=1;break;case"height":if(o.setAttribute(c,y),i._.dirty=1,!h.fy)break;c="y",y=h.y;case"y":h.fy&&(y=-h.y-(h.height||0));case"ry":if("ry"==c&&"rect"==i.type)break;case"cy":o.setAttribute(c,y),i.pattern&&d(i),i._.dirty=1;break;case"r":"rect"==i.type?p(o,{rx:y,ry:y}):o.setAttribute(c,y),i._.dirty=1;break;case"src":"image"==i.type&&o.setAttributeNS("http://www.w3.org/1999/xlink","href",y);break;case"stroke-width":(1!=i._.sx||1!=i._.sy)&&(y/=s(a(i._.sx),a(i._.sy))||1),o.setAttribute(c,y),h["stroke-dasharray"]&&x(i,h["stroke-dasharray"],n),i._.arrows&&("startString"in i._.arrows&&g(i,i._.arrows.startString),"endString"in i._.arrows&&g(i,i._.arrows.endString,1));break;case"stroke-dasharray":x(i,y,n);break;case"fill":var _=e(y).match(t._ISURL);if(_){b=p("pattern");var k=p("image");b.id=t.createUUID(),p(b,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),p(k,{x:0,y:0,"xlink:href":_[1]}),b.appendChild(k),function(e){t._preload(_[1],function(){var t=this.offsetWidth,i=this.offsetHeight;p(e,{width:t,height:i}),p(k,{width:t,height:i})})}(b),i.paper.defs.appendChild(b),p(o,{fill:"url(#"+b.id+")"}),i.pattern=b,i.pattern&&d(i);break}if(v=t.getRGB(y),v.error){if(("circle"==i.type||"ellipse"==i.type||"r"!=e(y).charAt())&&f(i,y)){if(("opacity"in h||"fill-opacity"in h)&&(v=t._g.doc.getElementById(o.getAttribute("fill").replace(/^url\(#|\)$/g,"")))){var C=v.getElementsByTagName("stop");p(C[C.length-1],{"stop-opacity":("opacity"in h?h.opacity:1)*("fill-opacity"in h?h["fill-opacity"]:1)})}h.gradient=y,h.fill="none";break}}else delete n.gradient,delete h.gradient,!t.is(h.opacity,"undefined")&&t.is(n.opacity,"undefined")&&p(o,{opacity:h.opacity}),!t.is(h["fill-opacity"],"undefined")&&t.is(n["fill-opacity"],"undefined")&&p(o,{"fill-opacity":h["fill-opacity"]});v.hasOwnProperty("opacity")&&p(o,{"fill-opacity":v.opacity>1?v.opacity/100:v.opacity});case"stroke":v=t.getRGB(y),o.setAttribute(c,v.hex),"stroke"==c&&v.hasOwnProperty("opacity")&&p(o,{"stroke-opacity":v.opacity>1?v.opacity/100:v.opacity}),"stroke"==c&&i._.arrows&&("startString"in i._.arrows&&g(i,i._.arrows.startString),"endString"in i._.arrows&&g(i,i._.arrows.endString,1));break;case"gradient":("circle"==i.type||"ellipse"==i.type||"r"!=e(y).charAt())&&f(i,y);break;case"opacity":h.gradient&&!h.hasOwnProperty("stroke-opacity")&&p(o,{"stroke-opacity":y>1?y/100:y});case"fill-opacity":if(h.gradient){(v=t._g.doc.getElementById(o.getAttribute("fill").replace(/^url\(#|\)$/g,"")))&&(C=v.getElementsByTagName("stop"),p(C[C.length-1],{"stop-opacity":y}));break}default:"font-size"==c&&(y=r(y,10)+"px"),v=c.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()}),o.style[v]=y,i._.dirty=1,o.setAttribute(c,y)}}m(i,n),o.style.visibility=u},m=function(i,n){if("text"==i.type&&(n.hasOwnProperty("text")||n.hasOwnProperty("font")||n.hasOwnProperty("font-size")||n.hasOwnProperty("x")||n.hasOwnProperty("y"))){var s=i.attrs,a=i.node,o=a.firstChild?r(t._g.doc.defaultView.getComputedStyle(a.firstChild,"").getPropertyValue("font-size"),10):10;if(n.hasOwnProperty("text")){for(s.text=n.text;a.firstChild;)a.removeChild(a.firstChild);for(var l,h=e(n.text).split("\n"),u=[],c=0,f=h.length;f>c;c++)l=p("tspan"),c&&p(l,{dy:1.2*o,x:s.x}),l.appendChild(t._g.doc.createTextNode(h[c])),a.appendChild(l),u[c]=l}else for(u=a.getElementsByTagName("tspan"),c=0,f=u.length;f>c;c++)c?p(u[c],{dy:1.2*o,x:s.x}):p(u[0],{dy:0});p(a,{x:s.x,y:s.y}),i._.dirty=1,a=i._getBBox(),(s=s.y-(a.y+a.height/2))&&t.is(s,"finite")&&p(u[0],{dy:s})}},b=function(t){return t.parentNode&&"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:t},w=function(e,i){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=i,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!i.bottom&&(i.bottom=this),(this.prev=i.top)&&(i.top.next=this),i.top=this,this.next=null},_=t.el;w.prototype=_,_.constructor=w,t._engine.path=function(t,e){var i=p("path");return e.canvas&&e.canvas.appendChild(i),i=new w(i,e),i.type="path",v(i,{fill:"none",stroke:"#000",path:t}),i},_.rotate=function(t,r,n){return this.removed?this:(t=e(t).split(l),t.length-1&&(r=i(t[1]),n=i(t[2])),t=i(t[0]),null==n&&(r=n),(null==r||null==n)&&(n=this.getBBox(1),r=n.x+n.width/2,n=n.y+n.height/2),this.transform(this._.transform.concat([["r",t,r,n]])),this)},_.scale=function(t,r,n,s){if(this.removed)return this;if(t=e(t).split(l),t.length-1&&(r=i(t[1]),n=i(t[2]),s=i(t[3])),t=i(t[0]),null==r&&(r=t),null==s&&(n=s),null==n||null==s)var a=this.getBBox(1);return n=null==n?a.x+a.width/2:n,s=null==s?a.y+a.height/2:s,this.transform(this._.transform.concat([["s",t,r,n,s]])),this},_.translate=function(t,r){return this.removed?this:(t=e(t).split(l),t.length-1&&(r=i(t[1])),t=i(t[0])||0,r=+r||0,this.transform(this._.transform.concat([["t",t,r]])),this)},_.transform=function(e){var i=this._;return null==e?i.transform:(t._extractTransform(this,e),this.clip&&p(this.clip,{transform:this.matrix.invert()}),this.pattern&&d(this),this.node&&p(this.node,{transform:this.matrix}),(1!=i.sx||1!=i.sy)&&this.attr({"stroke-width":this.attrs.hasOwnProperty("stroke-width")?this.attrs["stroke-width"]:1}),this)},_.hide=function(){return this.removed||(this.node.style.display="none"),this},_.show=function(){return this.removed||(this.node.style.display=""),this},_.remove=function(){var e=b(this.node);if(!this.removed&&e.parentNode){var i=this.paper;i.__set__&&i.__set__.exclude(this),h.unbind("raphael.*.*."+this.id),this.gradient&&i.defs.removeChild(this.gradient),t._tear(this,i),e.parentNode.removeChild(e),this.removeData();for(var r in this)this[r]="function"==typeof this[r]?t._removedFactory(r):null;this.removed=!0}},_._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e,i=!1;this.paper.canvas.parentElement?e=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(e=this.paper.canvas.parentNode.style),e&&"none"==e.display&&(i=!0,e.display="");var r={};try{r=this.node.getBBox()}catch(n){r={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{r=r||{},i&&(e.display="none")}return t&&this.hide(),r},_.attr=function(e,i){if(this.removed)return this;if(null==e){var r,n={};for(r in this.attrs)this.attrs.hasOwnProperty(r)&&(n[r]=this.attrs[r]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==i&&t.is(e,"string")){if("fill"==e&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==e)return this._.transform;r=e.split(l),n={};for(var s=0,a=r.length;a>s;s++)e=r[s],n[e]=e in this.attrs?this.attrs[e]:t.is(this.paper.customAttributes[e],"function")?this.paper.customAttributes[e].def:t._availableAttrs[e];return a-1?n:n[r[0]]}if(null==i&&t.is(e,"array")){for(n={},s=0,a=e.length;a>s;s++)n[e[s]]=this.attr(e[s]);return n}null!=i?(n={},n[e]=i):null!=e&&t.is(e,"object")&&(n=e);for(s in n)h("raphael.attr."+s+"."+this.id,this,n[s]);for(s in this.paper.customAttributes)if(this.paper.customAttributes.hasOwnProperty(s)&&n.hasOwnProperty(s)&&t.is(this.paper.customAttributes[s],"function")){r=this.paper.customAttributes[s].apply(this,[].concat(n[s])),this.attrs[s]=n[s];for(a in r)r.hasOwnProperty(a)&&(n[a]=r[a])}return v(this,n),this},_.toFront=function(){if(this.removed)return this;var e=b(this.node);return e.parentNode.appendChild(e),e=this.paper,e.top!=this&&t._tofront(this,e),this},_.toBack=function(){if(this.removed)return this;var e=b(this.node),i=e.parentNode;return i.insertBefore(e,i.firstChild),t._toback(this,this.paper),this},_.insertAfter=function(e){if(this.removed||!e)return this;var i=b(this.node),r=b(e.node||e[e.length-1].node);return r.nextSibling?r.parentNode.insertBefore(i,r.nextSibling):r.parentNode.appendChild(i),t._insertafter(this,e,this.paper),this},_.insertBefore=function(e){if(this.removed||!e)return this;var i=b(this.node),r=b(e.node||e[0].node);return r.parentNode.insertBefore(i,r),t._insertbefore(this,e,this.paper),this},_.blur=function(e){if(0!==+e){var i=p("filter"),r=p("feGaussianBlur");this.attrs.blur=e,i.id=t.createUUID(),p(r,{stdDeviation:+e||1.5}),i.appendChild(r),this.paper.defs.appendChild(i),this._blur=i,p(this.node,{filter:"url(#"+i.id+")"})}else this._blur&&(this._blur.parentNode.removeChild(this._blur),delete this._blur,delete this.attrs.blur),this.node.removeAttribute("filter");return this},t._engine.circle=function(t,e,i,r){var n=p("circle");return t.canvas&&t.canvas.appendChild(n),t=new w(n,t),t.attrs={cx:e,cy:i,r:r,fill:"none",stroke:"#000"},t.type="circle",p(n,t.attrs),t},t._engine.rect=function(t,e,i,r,n,s){var a=p("rect");return t.canvas&&t.canvas.appendChild(a),t=new w(a,t),t.attrs={x:e,y:i,width:r,height:n,rx:s||0,ry:s||0,fill:"none",stroke:"#000"},t.type="rect",p(a,t.attrs),t},t._engine.ellipse=function(t,e,i,r,n){var s=p("ellipse");return t.canvas&&t.canvas.appendChild(s),t=new w(s,t),t.attrs={cx:e,cy:i,rx:r,ry:n,fill:"none",stroke:"#000"},t.type="ellipse",p(s,t.attrs),t},t._engine.image=function(t,e,i,r,n,s){var a=p("image");return p(a,{x:i,y:r,width:n,height:s,preserveAspectRatio:"none"}),a.setAttributeNS("http://www.w3.org/1999/xlink","href",e),t.canvas&&t.canvas.appendChild(a),t=new w(a,t),t.attrs={x:i,y:r,width:n,height:s,src:e},t.type="image",t},t._engine.text=function(e,i,r,n){var s=p("text");return e.canvas&&e.canvas.appendChild(s),e=new w(s,e),e.attrs={x:i,y:r,"text-anchor":"middle",text:n,"font-family":t._availableAttrs["font-family"],"font-size":t._availableAttrs["font-size"],stroke:"none",fill:"#000"},e.type="text",v(e,e.attrs),e},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),i=e&&e.container,r=e.x,n=e.y,s=e.width;if(e=e.height,!i)throw Error("SVG container not found.");var a,o=p("svg");return r=r||0,n=n||0,s=s||512,e=e||342,p(o,{height:e,version:1.1,width:s,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==i?(o.style.cssText="overflow:hidden;position:absolute;left:"+r+"px;top:"+n+"px",t._g.doc.body.appendChild(o),a=1):(o.style.cssText="overflow:hidden;position:relative",i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o)),i=new t._Paper,i.width=s,i.height=e,i.canvas=o,i.clear(),i._left=i._top=0,a&&(i.renderfix=function(){}),i.renderfix(),i},t._engine.setViewBox=function(t,e,i,r,n){h("raphael.setViewBox",this,this._viewBox,[t,e,i,r,n]);var a,o=this.getSize();o=s(i/o.width,r/o.height);var l=this.top;for(null==t?(this._vbSize&&(o=1),delete this._vbSize,a="0 0 "+this.width+" "+this.height):(this._vbSize=o,a=t+" "+e+" "+i+" "+r),p(this.canvas,{viewBox:a,preserveAspectRatio:n?"xMidYMid meet":"xMinYMin"});o&&l;)a="stroke-width"in l.attrs?l.attrs["stroke-width"]:1,l.attr({"stroke-width":a}),l._.dirty=1,l._.dirtyT=1,l=l.prev;return this._viewBox=[t,e,i,r,!!n],this},t.prototype.renderfix=function(){var t,e=this.canvas,i=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(r){t=e.createSVGMatrix()}e=-t.e%1,t=-t.f%1,(e||t)&&(e&&(this._left=(this._left+e)%1,i.left=this._left+"px"),t&&(this._top=(this._top+t)%1,i.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=p("desc")).appendChild(t._g.doc.createTextNode("Created with Rapha??l "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=p("defs"))},t.prototype.remove=function(){h("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var k,C=t.st;for(k in _)_.hasOwnProperty(k)&&!C.hasOwnProperty(k)&&(C[k]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(k))}}),function(t,e){"function"==typeof define&&define.amd?define("raphael.vml",["raphael.core"],function(t){return e(t)}):e("object"==typeof exports?require("./raphael.core"):t.Raphael)}(this,function(t){if(!t||t.vml){var e=String,i=parseFloat,r=Math,n=r.round,s=r.max,a=r.min,o=r.abs,l=/[, ]+/,h=t.eve,u={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},c=/([clmz]),?([^clmz]*)/gi,p=/ progid:\S+Blur\([^\)]+\)/g,f=/-?[^,\s-]+/g,d={path:1,rect:1,image:1},g={circle:1,ellipse:1},y=function(i){var r=/[ahqstv]/gi,s=t._pathToAbsolute;if(e(i).match(r)&&(s=t._path2curve),r=/[clmz]/g,s==t._pathToAbsolute&&!e(i).match(r))return i=e(i).replace(c,function(t,e,i){var r=[],s="m"==e.toLowerCase(),a=u[e];return i.replace(f,function(t){s&&2==r.length&&(a+=r+u["m"==e?"l":"L"],r=[]),r.push(n(21600*t))}),a+r});var a=s(i);i=[];for(var o=0,l=a.length;l>o;o++){r=a[o],s=a[o][0].toLowerCase(),"z"==s&&(s="x");for(var h=1,p=r.length;p>h;h++)s+=n(21600*r[h])+(h!=p-1?",":"");i.push(s)}return i.join(" ")},x=function(e,i,r){var n=t.matrix();return n.rotate(-e,.5,.5),{dx:n.x(i,r),dy:n.y(i,r)}},v=function(t,e,i,r,n,s){var a=t._,l=t.matrix,h=a.fillpos;t=t.node;var u=t.style,c=1,p="",f=21600/e,d=21600/i;if(u.visibility="hidden",e&&i){if(t.coordsize=o(f)+" "+o(d),u.rotation=s*(0>e*i?-1:1),s){var g=x(s,r,n);r=g.dx,n=g.dy}0>e&&(p+="x"),0>i&&(p+=" y")&&(c=-1),u.flip=p,t.coordorigin=r*-f+" "+n*-d,(h||a.fillsize)&&(r=(r=t.getElementsByTagName("fill"))&&r[0],t.removeChild(r),h&&(g=x(s,l.x(h[0],h[1]),l.y(h[0],h[1])),r.position=g.dx*c+" "+g.dy*c),a.fillsize&&(r.size=a.fillsize[0]*o(e)+" "+a.fillsize[1]*o(i)),t.appendChild(r)),u.visibility="visible"}};t.toString=function(){return"Your browser doesn???t support SVG. Falling down to VML.\nYou are running Rapha??l "+this.version};var m=function(t,i,r){i=e(i).toLowerCase().split("-"),r=r?"end":"start";for(var n=i.length,s="classic",a="medium",o="medium";n--;)switch(i[n]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":s=i[n];break;case"wide":case"narrow":o=i[n];break;case"long":case"short":a=i[n]}t=t.node.getElementsByTagName("stroke")[0],t[r+"arrow"]=s,t[r+"arrowlength"]=a,t[r+"arrowwidth"]=o},b=function(r,o){r.attrs=r.attrs||{};var h,u=r.node,c=r.attrs,p=u.style,f=d[r.type]&&(o.x!=c.x||o.y!=c.y||o.width!=c.width||o.height!=c.height||o.cx!=c.cx||o.cy!=c.cy||o.rx!=c.rx||o.ry!=c.ry||o.r!=c.r),x=g[r.type]&&(c.cx!=o.cx||c.cy!=o.cy||c.r!=o.r||c.rx!=o.rx||c.ry!=o.ry);for(h in o)o.hasOwnProperty(h)&&(c[h]=o[h]);if(f&&(c.path=t._getPath[r.type](r),r._.dirty=1),o.href&&(u.href=o.href),o.title&&(u.title=o.title),o.target&&(u.target=o.target),o.cursor&&(p.cursor=o.cursor),"blur"in o&&r.blur(o.blur),(o.path&&"path"==r.type||f)&&(u.path=y(~e(c.path).toLowerCase().indexOf("r")?t._pathToAbsolute(c.path):c.path),r._.dirty=1,"image"==r.type&&(r._.fillpos=[c.x,c.y],r._.fillsize=[c.width,c.height],v(r,1,1,0,0,0))),"transform"in o&&r.transform(o.transform),x&&(p=+c.cx,f=+c.cy,x=+c.rx||+c.r||0,h=+c.ry||+c.r||0,u.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",n(21600*(p-x)),n(21600*(f-h)),n(21600*(p+x)),n(21600*(f+h)),n(21600*p)),r._.dirty=1),"clip-rect"in o&&(p=e(o["clip-rect"]).split(l),4==p.length&&(p[2]=+p[2]+ +p[0],p[3]=+p[3]+ +p[1],f=u.clipRect||t._g.doc.createElement("div"),x=f.style,x.clip=t.format("rect({1}px {2}px {3}px {0}px)",p),u.clipRect||(x.position="absolute",x.top=0,x.left=0,x.width=r.paper.width+"px",x.height=r.paper.height+"px",u.parentNode.insertBefore(f,u),f.appendChild(u),u.clipRect=f)),o["clip-rect"]||u.clipRect&&(u.clipRect.style.clip="auto")),r.textpath&&(p=r.textpath.style,o.font&&(p.font=o.font),o["font-family"]&&(p.fontFamily='"'+o["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"'),o["font-size"]&&(p.fontSize=o["font-size"]),o["font-weight"]&&(p.fontWeight=o["font-weight"]),o["font-style"]&&(p.fontStyle=o["font-style"])),"arrow-start"in o&&m(r,o["arrow-start"]),"arrow-end"in o&&m(r,o["arrow-end"],1),(null!=o.opacity||null!=o["stroke-width"]||null!=o.fill||null!=o.src||null!=o.stroke||null!=o["stroke-width"]||null!=o["stroke-opacity"]||null!=o["fill-opacity"]||null!=o["stroke-dasharray"]||null!=o["stroke-miterlimit"]||null!=o["stroke-linejoin"]||null!=o["stroke-linecap"])&&(p=u.getElementsByTagName("fill"),p=p&&p[0],!p&&(p=C("fill")),"image"==r.type&&o.src&&(p.src=o.src),o.fill&&(p.on=!0),(null==p.on||"none"==o.fill||null===o.fill)&&(p.on=!1),p.on&&o.fill&&((f=e(o.fill).match(t._ISURL))?(p.parentNode==u&&u.removeChild(p),p.rotate=!0,p.src=f[1],p.type="tile",x=r.getBBox(1),p.position=x.x+" "+x.y,r._.fillpos=[x.x,x.y],t._preload(f[1],function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]})):(p.color=t.getRGB(o.fill).hex,p.src="",p.type="solid",t.getRGB(o.fill).error&&(r.type in{circle:1,ellipse:1}||"r"!=e(o.fill).charAt())&&w(r,o.fill,p)&&(c.fill="none",c.gradient=o.fill,p.rotate=!1))),("fill-opacity"in o||"opacity"in o)&&(x=((+c["fill-opacity"]+1||2)-1)*((+c.opacity+1||2)-1)*((+t.getRGB(o.fill).o+1||2)-1),x=a(s(x,0),1),p.opacity=x,p.src&&(p.color="none")),u.appendChild(p),p=u.getElementsByTagName("stroke")&&u.getElementsByTagName("stroke")[0],f=!1,!p&&(f=p=C("stroke")),(o.stroke&&"none"!=o.stroke||o["stroke-width"]||null!=o["stroke-opacity"]||o["stroke-dasharray"]||o["stroke-miterlimit"]||o["stroke-linejoin"]||o["stroke-linecap"])&&(p.on=!0),("none"==o.stroke||null===o.stroke||null==p.on||0==o.stroke||0==o["stroke-width"])&&(p.on=!1),x=t.getRGB(o.stroke),p.on&&o.stroke&&(p.color=x.hex),x=((+c["stroke-opacity"]+1||2)-1)*((+c.opacity+1||2)-1)*((+x.o+1||2)-1),h=.75*(i(o["stroke-width"])||1),x=a(s(x,0),1),null==o["stroke-width"]&&(h=c["stroke-width"]),o["stroke-width"]&&(p.weight=h),h&&1>h&&(x*=h)&&(p.weight=1),p.opacity=x,o["stroke-linejoin"]&&(p.joinstyle=o["stroke-linejoin"]||"miter"),p.miterlimit=o["stroke-miterlimit"]||8,o["stroke-linecap"]&&(p.endcap="butt"==o["stroke-linecap"]?"flat":"square"==o["stroke-linecap"]?"square":"round"),"stroke-dasharray"in o&&(x={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},p.dashstyle=x.hasOwnProperty(o["stroke-dasharray"])?x[o["stroke-dasharray"]]:""),f&&u.appendChild(p)),"text"==r.type){r.paper.canvas.style.display="",u=r.paper.span,f=c.font&&c.font.match(/\d+(?:\.\d*)?(?=px)/),p=u.style,c.font&&(p.font=c.font),c["font-family"]&&(p.fontFamily=c["font-family"]),c["font-weight"]&&(p.fontWeight=c["font-weight"]),c["font-style"]&&(p.fontStyle=c["font-style"]),f=i(c["font-size"]||f&&f[0])||10,p.fontSize=100*f+"px",r.textpath.string&&(u.innerHTML=e(r.textpath.string).replace(/</g,"<").replace(/&/g,"&").replace(/\n/g,"<br>")),u=u.getBoundingClientRect(),r.W=c.w=(u.right-u.left)/100,r.H=c.h=(u.bottom-u.top)/100,r.X=c.x,r.Y=c.y+r.H/2,("x"in o||"y"in o)&&(r.path.v=t.format("m{0},{1}l{2},{1}",n(21600*c.x),n(21600*c.y),n(21600*c.x)+1)),u=["x","y","text","font","font-family","font-weight","font-style","font-size"],p=0;for(f=u.length;f>p;p++)if(u[p]in o){r._.dirty=1;break}switch(c["text-anchor"]){case"start":r.textpath.style["v-text-align"]="left",r.bbx=r.W/2;break;case"end":r.textpath.style["v-text-align"]="right",r.bbx=-r.W/2;break;default:r.textpath.style["v-text-align"]="center",r.bbx=0}r.textpath.style["v-text-kern"]=!0}},w=function(n,s,a){n.attrs=n.attrs||{};var o=Math.pow,l="linear",h=".5 .5";if(n.attrs.gradient=s,s=e(s).replace(t._radial_gradient,function(t,e,n){return l="radial",e&&n&&(e=i(e),n=i(n),o(e-.5,2)+o(n-.5,2)>.25&&(n=r.sqrt(.25-o(e-.5,2))*(2*(n>.5)-1)+.5),h=e+" "+n),""}),s=s.split(/\s*\-\s*/),"linear"==l){var u=s.shift();if(u=-i(u),isNaN(u))return null}if(s=t._parseDots(s),!s)return null;if(n=n.shape||n.node,s.length){n.removeChild(a),a.on=!0,a.method="none",a.color=s[0].color,a.color2=s[s.length-1].color;for(var c=[],p=0,f=s.length;f>p;p++)s[p].offset&&c.push(s[p].offset+" "+s[p].color);a.colors=c.length?c.join():"0% "+a.color,"radial"==l?(a.type="gradientTitle",a.focus="100%",a.focussize="0 0",a.focusposition=h,a.angle=0):(a.type="gradient",a.angle=(270-u)%360),n.appendChild(a)}return 1},_=function(e,i){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.Y=this.X=0,this.attrs={},this.paper=i,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!i.bottom&&(i.bottom=this),(this.prev=i.top)&&(i.top.next=this),i.top=this,this.next=null},k=t.el;_.prototype=k,k.constructor=_,k.transform=function(i){if(null==i)return this._.transform;var r,n=this.paper._viewBoxShift,s=n?"s"+[n.scale,n.scale]+"-1-1t"+[n.dx,n.dy]:"";n&&(r=i=e(i).replace(/\.{3}|\u2026/g,this._.transform||"")),t._extractTransform(this,s+i);var a;n=this.matrix.clone(),s=this.skew,i=this.node;var o=~e(this.attrs.fill).indexOf("-"),l=!e(this.attrs.fill).indexOf("url(");return n.translate(1,1),l||o||"image"==this.type?(s.matrix="1 0 0 1",s.offset="0 0",a=n.split(),o&&a.noRotation||!a.isSimple?(i.style.filter=n.toFilter(),n=this.getBBox(),s=this.getBBox(1),a=n.x-s.x,n=n.y-s.y,i.coordorigin=-21600*a+" "+-21600*n,v(this,1,1,a,n,0)):(i.style.filter="",v(this,a.scalex,a.scaley,a.dx,a.dy,a.rotate))):(i.style.filter="",s.matrix=e(n),s.offset=n.offset()),null!==r&&(this._.transform=r,t._extractTransform(this,r)),this},k.rotate=function(t,r,n){return this.removed?this:null!=t?(t=e(t).split(l),t.length-1&&(r=i(t[1]),n=i(t[2])),t=i(t[0]),null==n&&(r=n),(null==r||null==n)&&(n=this.getBBox(1),r=n.x+n.width/2,n=n.y+n.height/2),this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,r,n]])),this):void 0},k.translate=function(t,r){return this.removed?this:(t=e(t).split(l),t.length-1&&(r=i(t[1])),t=i(t[0])||0,r=+r||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=r),this.transform(this._.transform.concat([["t",t,r]])),this)},k.scale=function(t,r,n,s){if(this.removed)return this;if(t=e(t).split(l),t.length-1&&(r=i(t[1]),n=i(t[2]),s=i(t[3]),isNaN(n)&&(n=null),isNaN(s)&&(s=null)),t=i(t[0]),null==r&&(r=t),null==s&&(n=s),null==n||null==s)var a=this.getBBox(1);return n=null==n?a.x+a.width/2:n,s=null==s?a.y+a.height/2:s,this.transform(this._.transform.concat([["s",t,r,n,s]])),this._.dirtyT=1,this},k.hide=function(){return!this.removed&&(this.node.style.display="none"),this},k.show=function(){return!this.removed&&(this.node.style.display=""),this},k.auxGetBBox=t.el.getBBox,k.getBBox=function(){var t=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var e={},i=1/this.paper._viewBoxShift.scale;return e.x=t.x-this.paper._viewBoxShift.dx,e.x*=i,e.y=t.y-this.paper._viewBoxShift.dy,e.y*=i,e.width=t.width*i,e.height=t.height*i,e.x2=e.x+e.width,e.y2=e.y+e.height,e}return t},k._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},k.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},k.attr=function(e,i){if(this.removed)return this;if(null==e){var r,n={};for(r in this.attrs)this.attrs.hasOwnProperty(r)&&(n[r]=this.attrs[r]);return n.gradient&&"none"==n.fill&&(n.fill=n.gradient)&&delete n.gradient,n.transform=this._.transform,n}if(null==i&&t.is(e,"string")){if("fill"==e&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;r=e.split(l),n={};for(var s=0,a=r.length;a>s;s++)e=r[s],n[e]=e in this.attrs?this.attrs[e]:t.is(this.paper.customAttributes[e],"function")?this.paper.customAttributes[e].def:t._availableAttrs[e];return a-1?n:n[r[0]]}if(this.attrs&&null==i&&t.is(e,"array")){for(n={},s=0,a=e.length;a>s;s++)n[e[s]]=this.attr(e[s]);return n}null!=i&&(n={},n[e]=i),null==i&&t.is(e,"object")&&(n=e);for(s in n)h("raphael.attr."+s+"."+this.id,this,n[s]);if(n){for(s in this.paper.customAttributes)if(this.paper.customAttributes.hasOwnProperty(s)&&n.hasOwnProperty(s)&&t.is(this.paper.customAttributes[s],"function")){r=this.paper.customAttributes[s].apply(this,[].concat(n[s])),this.attrs[s]=n[s];for(a in r)r.hasOwnProperty(a)&&(n[a]=r[a])}n.text&&"text"==this.type&&(this.textpath.string=n.text),b(this,n)}return this},k.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},k.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper)),this)},k.insertAfter=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this)},k.insertBefore=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper),this)},k.blur=function(e){var i=this.node.runtimeStyle,r=i.filter;return r=r.replace(p,""),0!==+e?(this.attrs.blur=e,i.filter=r+"  progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+e||1.5)+")",i.margin=t.format("-{0}px 0 0 -{0}px",n(+e||1.5))):(i.filter=r,i.margin=0,delete this.attrs.blur),this},t._engine.path=function(t,e){var i=C("shape");i.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",i.coordsize="21600 21600",i.coordorigin=e.coordorigin;var r=new _(i,e),n={fill:"none",stroke:"#000"};return t&&(n.path=t),r.type="path",r.path=[],r.Path="",b(r,n),e.canvas.appendChild(i),n=C("skew"),n.on=!0,i.appendChild(n),r.skew=n,r.transform(""),r},t._engine.rect=function(e,i,r,n,s,a){var o=t._rectPath(i,r,n,s,a);e=e.path(o);var l=e.attrs;return e.X=l.x=i,e.Y=l.y=r,e.W=l.width=n,e.H=l.height=s,l.r=a,l.path=o,e.type="rect",e},t._engine.ellipse=function(t,e,i,r,n){return t=t.path(),t.X=e-r,t.Y=i-n,t.W=2*r,t.H=2*n,t.type="ellipse",b(t,{cx:e,cy:i,rx:r,ry:n}),t},t._engine.circle=function(t,e,i,r){return t=t.path(),t.X=e-r,t.Y=i-r,t.W=t.H=2*r,t.type="circle",b(t,{cx:e,cy:i,r:r}),t},t._engine.image=function(e,i,r,n,s,a){var o=t._rectPath(r,n,s,a);e=e.path(o).attr({stroke:"none"});var l=e.attrs,h=e.node,u=h.getElementsByTagName("fill")[0];return l.src=i,e.X=l.x=r,e.Y=l.y=n,e.W=l.width=s,e.H=l.height=a,l.path=o,e.type="image",u.parentNode==h&&h.removeChild(u),u.rotate=!0,u.src=i,u.type="tile",e._.fillpos=[r,n],e._.fillsize=[s,a],h.appendChild(u),v(e,1,1,0,0,0),e},t._engine.text=function(i,r,s,a){var o=C("shape"),l=C("path"),h=C("textpath");r=r||0,s=s||0,a=a||"",l.v=t.format("m{0},{1}l{2},{1}",n(21600*r),n(21600*s),n(21600*r)+1),l.textpathok=!0,h.string=e(a),h.on=!0,o.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",o.coordsize="21600 21600",o.coordorigin="0 0";var u=new _(o,i),c={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:a};return u.shape=o,u.path=l,u.textpath=h,u.type="text",u.attrs.text=e(a),u.attrs.x=r,u.attrs.y=s,u.attrs.w=1,u.attrs.h=1,b(u,c),o.appendChild(h),o.appendChild(l),i.canvas.appendChild(o),i=C("skew"),i.on=!0,o.appendChild(i),u.skew=i,u.transform(""),u},t._engine.setSize=function(e,i){var r=this.canvas.style;return this.width=e,this.height=i,e==+e&&(e+="px"),i==+i&&(i+="px"),r.width=e,r.height=i,r.clip="rect(0 "+e+" "+i+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,i,r,n,s){t.eve("raphael.setViewBox",this,this._viewBox,[e,i,r,n,s]);var a,o,l=this.getSize(),h=l.width,u=l.height;return s&&(a=u/n,o=h/r,h>r*a&&(e-=(h-r*a)/2/a),u>n*o&&(i-=(u-n*o)/2/o)),this._viewBox=[e,i,r,n,!!s],this._viewBoxShift={dx:-e,dy:-i,scale:l},this.forEach(function(t){t.transform("...")}),this};var C;t._engine.initWin=function(t){var e=t.document;e.styleSheets.length<31?e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):e.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),C=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(i){C=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),i=e.container,r=e.height,n=e.width,s=e.x;if(e=e.y,!i)throw Error("VML container not found.");var a=new t._Paper,o=a.canvas=t._g.doc.createElement("div"),l=o.style;return s=s||0,e=e||0,n=n||512,r=r||342,a.width=n,a.height=r,n==+n&&(n+="px"),r==+r&&(r+="px"),a.coordsize="21600000 21600000",a.coordorigin="0 0",a.span=t._g.doc.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",o.appendChild(a.span),l.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",n,r),1==i?(t._g.doc.body.appendChild(o),l.left=s+"px",l.top=e+"px",l.position="absolute"):i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),a.renderfix=function(){},a},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML="",this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var B,T=t.st;for(B in k)k.hasOwnProperty(B)&&!T.hasOwnProperty(B)&&(T[B]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(B))}});